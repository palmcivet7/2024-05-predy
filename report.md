# Aderyn Analysis Report

This report was generated by [Aderyn](https://github.com/Cyfrin/aderyn), a static analysis tool built by [Cyfrin](https://cyfrin.io), a blockchain security company. This report is not a substitute for manual audit or security review. It should not be relied upon for any purpose other than to assist in the identification of potential security vulnerabilities.
# Table of Contents

- [Summary](#summary)
  - [Files Summary](#files-summary)
  - [Files Details](#files-details)
  - [Issue Summary](#issue-summary)
- [High Issues](#high-issues)
  - [H-1: `abi.encodePacked()` should not be used with dynamic types when passing the result to a hash function such as `keccak256()`](#h-1-abiencodepacked-should-not-be-used-with-dynamic-types-when-passing-the-result-to-a-hash-function-such-as-keccak256)
  - [H-2: Arbitrary `from` passed to `transferFrom` (or `safeTransferFrom`)](#h-2-arbitrary-from-passed-to-transferfrom-or-safetransferfrom)
  - [H-3: Unprotected initializer](#h-3-unprotected-initializer)
- [Low Issues](#low-issues)
  - [L-1: Centralization Risk for trusted owners](#l-1-centralization-risk-for-trusted-owners)
  - [L-2: Solmate's SafeTransferLib does not check for token contract's existence](#l-2-solmates-safetransferlib-does-not-check-for-token-contracts-existence)
  - [L-3: Unsafe ERC20 Operations should not be used](#l-3-unsafe-erc20-operations-should-not-be-used)
  - [L-4: Solidity pragma should be specific, not wide](#l-4-solidity-pragma-should-be-specific-not-wide)
  - [L-5: Missing checks for `address(0)` when assigning values to address state variables](#l-5-missing-checks-for-address0-when-assigning-values-to-address-state-variables)
  - [L-6: `public` functions not used internally could be marked `external`](#l-6-public-functions-not-used-internally-could-be-marked-external)
  - [L-7: Define and use `constant` variables instead of using literals](#l-7-define-and-use-constant-variables-instead-of-using-literals)
  - [L-8: Event is missing `indexed` fields](#l-8-event-is-missing-indexed-fields)
  - [L-9: Empty `require()` / `revert()` statements](#l-9-empty-require--revert-statements)
  - [L-10: PUSH0 is not supported by all chains](#l-10-push0-is-not-supported-by-all-chains)
  - [L-11: Modifiers invoked only once can be shoe-horned into the function](#l-11-modifiers-invoked-only-once-can-be-shoe-horned-into-the-function)
  - [L-12: Large literal values multiples of 10000 can be replaced with scientific notation](#l-12-large-literal-values-multiples-of-10000-can-be-replaced-with-scientific-notation)
  - [L-13: Internal functions called only once can be inlined](#l-13-internal-functions-called-only-once-can-be-inlined)
  - [L-14: Unused Custom Error](#l-14-unused-custom-error)


# Summary

## Files Summary

| Key | Value |
| --- | --- |
| .sol Files | 73 |
| Total nSLOC | 6143 |


## Files Details

| Filepath | nSLOC |
| --- | --- |
| lib/forge-std/src/StdMath.sol | 28 |
| lib/openzeppelin-contracts/contracts/utils/math/Math.sol | 199 |
| lib/openzeppelin-contracts/contracts/utils/math/SignedMath.sol | 18 |
| lib/v3-core/contracts/libraries/FullMath.sol | 67 |
| lib/v3-core/contracts/libraries/TickMath.sol | 176 |
| src/PredyPool.sol | 209 |
| src/PriceFeed.sol | 39 |
| src/base/BaseHookCallback.sol | 18 |
| src/base/BaseHookCallbackUpgradable.sol | 20 |
| src/base/BaseMarket.sol | 90 |
| src/base/BaseMarketUpgradable.sol | 127 |
| src/base/SettlementCallbackLib.sol | 153 |
| src/interfaces/IFillerMarket.sol | 26 |
| src/interfaces/IHooks.sol | 14 |
| src/interfaces/IPredyPool.sol | 71 |
| src/interfaces/ISettlement.sol | 21 |
| src/interfaces/ISpotMarket.sol | 5 |
| src/interfaces/ISupplyToken.sol | 5 |
| src/lens/GammaTradeMarketQuoter.sol | 30 |
| src/lens/PerpMarketQuoter.sol | 32 |
| src/lens/PredyPoolQuoter.sol | 142 |
| src/lens/SpotMarketQuoter.sol | 36 |
| src/libraries/ApplyInterestLib.sol | 65 |
| src/libraries/Constants.sol | 18 |
| src/libraries/DataType.sol | 34 |
| src/libraries/InterestRateModel.sol | 24 |
| src/libraries/PairLib.sol | 6 |
| src/libraries/Perp.sol | 601 |
| src/libraries/PerpFee.sol | 121 |
| src/libraries/PositionCalculator.sol | 177 |
| src/libraries/PremiumCurveModel.sol | 11 |
| src/libraries/Reallocation.sol | 143 |
| src/libraries/ScaledAsset.sol | 190 |
| src/libraries/SlippageLib.sol | 41 |
| src/libraries/Trade.sol | 108 |
| src/libraries/UniHelper.sol | 107 |
| src/libraries/VaultLib.sol | 47 |
| src/libraries/logic/AddPairLogic.sol | 174 |
| src/libraries/logic/LiquidationLogic.sol | 118 |
| src/libraries/logic/ReaderLogic.sol | 53 |
| src/libraries/logic/ReallocationLogic.sol | 70 |
| src/libraries/logic/SupplyLogic.sol | 67 |
| src/libraries/logic/TradeLogic.sol | 63 |
| src/libraries/math/Bps.sol | 10 |
| src/libraries/math/LPMath.sol | 118 |
| src/libraries/math/Math.sol | 54 |
| src/libraries/orders/DecayLib.sol | 32 |
| src/libraries/orders/OrderInfoLib.sol | 14 |
| src/libraries/orders/Permit2Lib.sol | 23 |
| src/libraries/orders/ResolvedOrder.sol | 21 |
| src/markets/L2Decoder.sol | 63 |
| src/markets/gamma/ArrayLib.sol | 24 |
| src/markets/gamma/GammaOrder.sol | 93 |
| src/markets/gamma/GammaTradeMarket.sol | 347 |
| src/markets/gamma/GammaTradeMarketL2.sol | 81 |
| src/markets/gamma/GammaTradeMarketLib.sol | 178 |
| src/markets/gamma/GammaTradeMarketWrapper.sol | 13 |
| src/markets/gamma/L2GammaDecoder.sol | 76 |
| src/markets/perp/PerpMarket.sol | 44 |
| src/markets/perp/PerpMarketLib.sol | 171 |
| src/markets/perp/PerpMarketV1.sol | 272 |
| src/markets/perp/PerpOrder.sol | 51 |
| src/markets/perp/PerpOrderV3.sol | 53 |
| src/markets/spot/SpotMarket.sol | 307 |
| src/markets/spot/SpotMarketL2.sol | 62 |
| src/markets/spot/SpotOrder.sol | 49 |
| src/settlements/UniswapSettlement.sol | 52 |
| src/tokenization/SupplyToken.sol | 21 |
| src/types/GlobalData.sol | 90 |
| src/types/LockData.sol | 10 |
| src/vendors/AggregatorV3Interface.sol | 14 |
| src/vendors/IPyth.sol | 11 |
| src/vendors/IUniswapV3PoolOracle.sol | 25 |
| **Total** | **6143** |


## Issue Summary

| Category | No. of Issues |
| --- | --- |
| High | 3 |
| Low | 14 |


# High Issues

## H-1: `abi.encodePacked()` should not be used with dynamic types when passing the result to a hash function such as `keccak256()`

Use `abi.encode()` instead which will pad items to 32 bytes, which will [prevent hash collisions](https://docs.soliditylang.org/en/v0.8.13/abi-spec.html#non-standard-packed-mode) (e.g. `abi.encodePacked(0x123,0x456)` => `0x123456` => `abi.encodePacked(0x1,0x23456)`, but `abi.encode(0x123,0x456)` => `0x0...1230...456`). Unless there is a compelling reason, `abi.encode` should be preferred. If there is only one argument to `abi.encodePacked()` it can often be cast to `bytes()` or `bytes32()` [instead](https://ethereum.stackexchange.com/questions/30912/how-to-compare-strings-in-solidity#answer-82739).
If all arguments are strings and or bytes, `bytes.concat()` should be used instead.

<details><summary>13 Found Instances</summary>


- Found in src/markets/gamma/GammaOrder.sol [Line: 24](src/markets/gamma/GammaOrder.sol#L24)

	```solidity
	    bytes internal constant GAMMA_MODIFY_INFO_TYPE = abi.encodePacked(
	```

- Found in src/markets/gamma/GammaOrder.sol [Line: 81](src/markets/gamma/GammaOrder.sol#L81)

	```solidity
	    bytes internal constant GAMMA_ORDER_TYPE = abi.encodePacked(
	```

- Found in src/markets/gamma/GammaOrder.sol [Line: 98](src/markets/gamma/GammaOrder.sol#L98)

	```solidity
	        abi.encodePacked(GAMMA_ORDER_TYPE, GammaModifyInfoLib.GAMMA_MODIFY_INFO_TYPE, OrderInfoLib.ORDER_INFO_TYPE);
	```

- Found in src/markets/gamma/GammaOrder.sol [Line: 103](src/markets/gamma/GammaOrder.sol#L103)

	```solidity
	        abi.encodePacked(
	```

- Found in src/markets/perp/PerpOrder.sol [Line: 27](src/markets/perp/PerpOrder.sol#L27)

	```solidity
	    bytes internal constant PERP_ORDER_TYPE = abi.encodePacked(
	```

- Found in src/markets/perp/PerpOrder.sol [Line: 43](src/markets/perp/PerpOrder.sol#L43)

	```solidity
	    bytes internal constant ORDER_TYPE = abi.encodePacked(PERP_ORDER_TYPE, OrderInfoLib.ORDER_INFO_TYPE);
	```

- Found in src/markets/perp/PerpOrder.sol [Line: 48](src/markets/perp/PerpOrder.sol#L48)

	```solidity
	        abi.encodePacked("PerpOrder witness)", OrderInfoLib.ORDER_INFO_TYPE, PERP_ORDER_TYPE, TOKEN_PERMISSIONS_TYPE)
	```

- Found in src/markets/perp/PerpOrderV3.sol [Line: 28](src/markets/perp/PerpOrderV3.sol#L28)

	```solidity
	    bytes internal constant PERP_ORDER_V3_TYPE = abi.encodePacked(
	```

- Found in src/markets/perp/PerpOrderV3.sol [Line: 45](src/markets/perp/PerpOrderV3.sol#L45)

	```solidity
	    bytes internal constant ORDER_V3_TYPE = abi.encodePacked(PERP_ORDER_V3_TYPE, OrderInfoLib.ORDER_INFO_TYPE);
	```

- Found in src/markets/perp/PerpOrderV3.sol [Line: 50](src/markets/perp/PerpOrderV3.sol#L50)

	```solidity
	        abi.encodePacked(
	```

- Found in src/markets/spot/SpotOrder.sol [Line: 21](src/markets/spot/SpotOrder.sol#L21)

	```solidity
	    bytes internal constant SPOT_ORDER_TYPE = abi.encodePacked(
	```

- Found in src/markets/spot/SpotOrder.sol [Line: 32](src/markets/spot/SpotOrder.sol#L32)

	```solidity
	    bytes internal constant ORDER_TYPE = abi.encodePacked(SPOT_ORDER_TYPE, OrderInfoLib.ORDER_INFO_TYPE);
	```

- Found in src/markets/spot/SpotOrder.sol [Line: 39](src/markets/spot/SpotOrder.sol#L39)

	```solidity
	        abi.encodePacked("SpotOrder witness)", OrderInfoLib.ORDER_INFO_TYPE, SPOT_ORDER_TYPE, TOKEN_PERMISSIONS_TYPE)
	```

</details>



## H-2: Arbitrary `from` passed to `transferFrom` (or `safeTransferFrom`)

Passing an arbitrary `from` address to `transferFrom` (or `safeTransferFrom`) can lead to loss of funds, because anyone can transfer tokens from the `from` address if an approval is made.  

<details><summary>5 Found Instances</summary>


- Found in src/base/SettlementCallbackLib.sol [Line: 48](src/base/SettlementCallbackLib.sol#L48)

	```solidity
	            ERC20(quoteToken).safeTransferFrom(
	```

- Found in src/base/SettlementCallbackLib.sol [Line: 105](src/base/SettlementCallbackLib.sol#L105)

	```solidity
	            ERC20(quoteToken).safeTransferFrom(sender, address(predyPool), quoteAmount);
	```

- Found in src/base/SettlementCallbackLib.sol [Line: 128](src/base/SettlementCallbackLib.sol#L128)

	```solidity
	                ERC20(quoteToken).safeTransferFrom(sender, address(this), quoteAmount - quoteAmountFromUni);
	```

- Found in src/base/SettlementCallbackLib.sol [Line: 152](src/base/SettlementCallbackLib.sol#L152)

	```solidity
	            ERC20(baseToken).safeTransferFrom(sender, address(predyPool), buyAmount);
	```

- Found in src/base/SettlementCallbackLib.sol [Line: 177](src/base/SettlementCallbackLib.sol#L177)

	```solidity
	                ERC20(quoteToken).safeTransferFrom(sender, address(this), quoteAmountToUni - quoteAmount);
	```

</details>



## H-3: Unprotected initializer

Consider protecting the initializer functions with modifiers.

<details><summary>4 Found Instances</summary>


- Found in src/libraries/logic/AddPairLogic.sol [Line: 44](src/libraries/logic/AddPairLogic.sol#L44)

	```solidity
	    function initializeGlobalData(GlobalDataLibrary.GlobalData storage global, address uniswapFactory) external {
	```

- Found in src/markets/gamma/GammaTradeMarket.sol [Line: 408](src/markets/gamma/GammaTradeMarket.sol#L408)

	```solidity
	    function _getOrInitPosition(uint256 positionId, bool isCreatedNew, address trader, uint64 pairId)
	```

- Found in src/markets/perp/PerpMarketV1.sol [Line: 220](src/markets/perp/PerpMarketV1.sol#L220)

	```solidity
	    function _calculateInitialMargin(uint256 vaultId, uint256 pairId, uint256 leverage)
	```

- Found in src/types/GlobalData.sol [Line: 35](src/types/GlobalData.sol#L35)

	```solidity
	    function initializeLock(GlobalDataLibrary.GlobalData storage globalData, uint256 pairId) internal {
	```

</details>



# Low Issues

## L-1: Centralization Risk for trusted owners

Contracts have owners with privileged rights to perform admin tasks and need to be trusted to not perform malicious updates or drain funds.

<details><summary>5 Found Instances</summary>


- Found in src/base/BaseMarket.sol [Line: 10](src/base/BaseMarket.sol#L10)

	```solidity
	abstract contract BaseMarket is IFillerMarket, BaseHookCallback, Owned {
	```

- Found in src/base/BaseMarket.sol [Line: 84](src/base/BaseMarket.sol#L84)

	```solidity
	    function updateWhitelistFiller(address newWhitelistFiller) external onlyOwner {
	```

- Found in src/base/BaseMarket.sol [Line: 92](src/base/BaseMarket.sol#L92)

	```solidity
	    function updateWhitelistSettlement(address settlementContractAddress, bool isEnabled) external onlyOwner {
	```

- Found in src/markets/spot/SpotMarket.sol [Line: 24](src/markets/spot/SpotMarket.sol#L24)

	```solidity
	contract SpotMarket is IFillerMarket, ISpotMarket, Owned {
	```

- Found in src/markets/spot/SpotMarket.sol [Line: 76](src/markets/spot/SpotMarket.sol#L76)

	```solidity
	    function updateWhitelistSettlement(address settlementContractAddress, bool isEnabled) external onlyOwner {
	```

</details>



## L-2: Solmate's SafeTransferLib does not check for token contract's existence

There is a subtle difference between the implementation of solmate's SafeTransferLib and OZ's SafeERC20: OZ's SafeERC20 checks if the token is a contract or not, solmate's SafeTransferLib does not.
https://github.com/transmissions11/solmate/blob/main/src/utils/SafeTransferLib.sol#L9 
`@dev Note that none of the functions in this library check that a token has code at all! That responsibility is delegated to the caller`


<details><summary>10 Found Instances</summary>


- Found in src/PredyPool.sol [Line: 7](src/PredyPool.sol#L7)

	```solidity
	import {SafeTransferLib} from "@solmate/src/utils/SafeTransferLib.sol";
	```

- Found in src/base/SettlementCallbackLib.sol [Line: 4](src/base/SettlementCallbackLib.sol#L4)

	```solidity
	import {SafeTransferLib} from "@solmate/src/utils/SafeTransferLib.sol";
	```

- Found in src/libraries/logic/LiquidationLogic.sol [Line: 4](src/libraries/logic/LiquidationLogic.sol#L4)

	```solidity
	import {SafeTransferLib} from "@solmate/src/utils/SafeTransferLib.sol";
	```

- Found in src/libraries/logic/ReallocationLogic.sol [Line: 4](src/libraries/logic/ReallocationLogic.sol#L4)

	```solidity
	import {SafeTransferLib} from "@solmate/src/utils/SafeTransferLib.sol";
	```

- Found in src/libraries/logic/SupplyLogic.sol [Line: 4](src/libraries/logic/SupplyLogic.sol#L4)

	```solidity
	import {SafeTransferLib} from "@solmate/src/utils/SafeTransferLib.sol";
	```

- Found in src/markets/gamma/GammaTradeMarket.sol [Line: 4](src/markets/gamma/GammaTradeMarket.sol#L4)

	```solidity
	import {SafeTransferLib} from "@solmate/src/utils/SafeTransferLib.sol";
	```

- Found in src/markets/perp/PerpMarketV1.sol [Line: 4](src/markets/perp/PerpMarketV1.sol#L4)

	```solidity
	import {SafeTransferLib} from "@solmate/src/utils/SafeTransferLib.sol";
	```

- Found in src/markets/spot/SpotMarket.sol [Line: 6](src/markets/spot/SpotMarket.sol#L6)

	```solidity
	import {SafeTransferLib} from "@solmate/src/utils/SafeTransferLib.sol";
	```

- Found in src/settlements/UniswapSettlement.sol [Line: 4](src/settlements/UniswapSettlement.sol#L4)

	```solidity
	import {SafeTransferLib} from "@solmate/src/utils/SafeTransferLib.sol";
	```

- Found in src/types/GlobalData.sol [Line: 4](src/types/GlobalData.sol#L4)

	```solidity
	import {SafeTransferLib} from "@solmate/src/utils/SafeTransferLib.sol";
	```

</details>



## L-3: Unsafe ERC20 Operations should not be used

ERC20 functions may not behave as expected. For example: return values are not always meaningful. It is recommended to use OpenZeppelin's SafeERC20 library.

<details><summary>6 Found Instances</summary>


- Found in src/base/SettlementCallbackLib.sol [Line: 111](src/base/SettlementCallbackLib.sol#L111)

	```solidity
	        ERC20(baseToken).approve(address(settlementParams.contractAddress), sellAmount);
	```

- Found in src/base/SettlementCallbackLib.sol [Line: 158](src/base/SettlementCallbackLib.sol#L158)

	```solidity
	        ERC20(quoteToken).approve(address(settlementParams.contractAddress), settlementParams.maxQuoteAmount);
	```

- Found in src/markets/spot/SpotMarket.sol [Line: 266](src/markets/spot/SpotMarket.sol#L266)

	```solidity
	        ERC20(baseToken).approve(settlementParams.contractAddress, sellAmount);
	```

- Found in src/markets/spot/SpotMarket.sol [Line: 305](src/markets/spot/SpotMarket.sol#L305)

	```solidity
	        ERC20(quoteToken).approve(settlementParams.contractAddress, settlementParams.maxQuoteAmount);
	```

- Found in src/settlements/UniswapSettlement.sol [Line: 31](src/settlements/UniswapSettlement.sol#L31)

	```solidity
	        ERC20(baseToken).approve(address(_swapRouter), amountIn);
	```

- Found in src/settlements/UniswapSettlement.sol [Line: 47](src/settlements/UniswapSettlement.sol#L47)

	```solidity
	        ERC20(quoteToken).approve(address(_swapRouter), amountInMaximum);
	```

</details>



## L-4: Solidity pragma should be specific, not wide

Consider using a specific version of Solidity in your contracts instead of a wide version. For example, instead of `pragma solidity ^0.8.0;`, use `pragma solidity 0.8.0;`

<details><summary>73 Found Instances</summary>


- Found in lib/forge-std/src/StdMath.sol [Line: 2](lib/forge-std/src/StdMath.sol#L2)

	```solidity
	pragma solidity >=0.6.2 <0.9.0;
	```

- Found in lib/openzeppelin-contracts/contracts/utils/math/Math.sol [Line: 4](lib/openzeppelin-contracts/contracts/utils/math/Math.sol#L4)

	```solidity
	pragma solidity ^0.8.0;
	```

- Found in lib/openzeppelin-contracts/contracts/utils/math/SignedMath.sol [Line: 4](lib/openzeppelin-contracts/contracts/utils/math/SignedMath.sol#L4)

	```solidity
	pragma solidity ^0.8.0;
	```

- Found in lib/v3-core/contracts/libraries/FullMath.sol [Line: 2](lib/v3-core/contracts/libraries/FullMath.sol#L2)

	```solidity
	pragma solidity ^0.8.0;
	```

- Found in lib/v3-core/contracts/libraries/TickMath.sol [Line: 2](lib/v3-core/contracts/libraries/TickMath.sol#L2)

	```solidity
	pragma solidity ^0.8.0;
	```

- Found in src/PredyPool.sol [Line: 2](src/PredyPool.sol#L2)

	```solidity
	pragma solidity ^0.8.17;
	```

- Found in src/PriceFeed.sol [Line: 2](src/PriceFeed.sol#L2)

	```solidity
	pragma solidity ^0.8.17;
	```

- Found in src/base/BaseHookCallback.sol [Line: 2](src/base/BaseHookCallback.sol#L2)

	```solidity
	pragma solidity ^0.8.17;
	```

- Found in src/base/BaseHookCallbackUpgradable.sol [Line: 2](src/base/BaseHookCallbackUpgradable.sol#L2)

	```solidity
	pragma solidity ^0.8.17;
	```

- Found in src/base/BaseMarket.sol [Line: 2](src/base/BaseMarket.sol#L2)

	```solidity
	pragma solidity ^0.8.17;
	```

- Found in src/base/BaseMarketUpgradable.sol [Line: 2](src/base/BaseMarketUpgradable.sol#L2)

	```solidity
	pragma solidity ^0.8.17;
	```

- Found in src/base/SettlementCallbackLib.sol [Line: 2](src/base/SettlementCallbackLib.sol#L2)

	```solidity
	pragma solidity ^0.8.17;
	```

- Found in src/interfaces/IFillerMarket.sol [Line: 2](src/interfaces/IFillerMarket.sol#L2)

	```solidity
	pragma solidity >=0.8.0;
	```

- Found in src/interfaces/IHooks.sol [Line: 2](src/interfaces/IHooks.sol#L2)

	```solidity
	pragma solidity >=0.7.0;
	```

- Found in src/interfaces/IPredyPool.sol [Line: 2](src/interfaces/IPredyPool.sol#L2)

	```solidity
	pragma solidity >=0.8.0;
	```

- Found in src/interfaces/ISettlement.sol [Line: 2](src/interfaces/ISettlement.sol#L2)

	```solidity
	pragma solidity >=0.7.0;
	```

- Found in src/interfaces/ISpotMarket.sol [Line: 2](src/interfaces/ISpotMarket.sol#L2)

	```solidity
	pragma solidity >=0.8.0;
	```

- Found in src/interfaces/ISupplyToken.sol [Line: 2](src/interfaces/ISupplyToken.sol#L2)

	```solidity
	pragma solidity >=0.7.0;
	```

- Found in src/lens/GammaTradeMarketQuoter.sol [Line: 2](src/lens/GammaTradeMarketQuoter.sol#L2)

	```solidity
	pragma solidity ^0.8.17;
	```

- Found in src/lens/PerpMarketQuoter.sol [Line: 2](src/lens/PerpMarketQuoter.sol#L2)

	```solidity
	pragma solidity ^0.8.17;
	```

- Found in src/lens/PredyPoolQuoter.sol [Line: 2](src/lens/PredyPoolQuoter.sol#L2)

	```solidity
	pragma solidity ^0.8.17;
	```

- Found in src/lens/SpotMarketQuoter.sol [Line: 2](src/lens/SpotMarketQuoter.sol#L2)

	```solidity
	pragma solidity ^0.8.17;
	```

- Found in src/libraries/ApplyInterestLib.sol [Line: 2](src/libraries/ApplyInterestLib.sol#L2)

	```solidity
	pragma solidity ^0.8.17;
	```

- Found in src/libraries/Constants.sol [Line: 2](src/libraries/Constants.sol#L2)

	```solidity
	pragma solidity ^0.8.17;
	```

- Found in src/libraries/DataType.sol [Line: 2](src/libraries/DataType.sol#L2)

	```solidity
	pragma solidity ^0.8.17;
	```

- Found in src/libraries/InterestRateModel.sol [Line: 2](src/libraries/InterestRateModel.sol#L2)

	```solidity
	pragma solidity ^0.8.17;
	```

- Found in src/libraries/PairLib.sol [Line: 2](src/libraries/PairLib.sol#L2)

	```solidity
	pragma solidity ^0.8.17;
	```

- Found in src/libraries/Perp.sol [Line: 2](src/libraries/Perp.sol#L2)

	```solidity
	pragma solidity ^0.8.17;
	```

- Found in src/libraries/PerpFee.sol [Line: 2](src/libraries/PerpFee.sol#L2)

	```solidity
	pragma solidity ^0.8.17;
	```

- Found in src/libraries/PositionCalculator.sol [Line: 2](src/libraries/PositionCalculator.sol#L2)

	```solidity
	pragma solidity ^0.8.17;
	```

- Found in src/libraries/PremiumCurveModel.sol [Line: 2](src/libraries/PremiumCurveModel.sol#L2)

	```solidity
	pragma solidity ^0.8.17;
	```

- Found in src/libraries/Reallocation.sol [Line: 2](src/libraries/Reallocation.sol#L2)

	```solidity
	pragma solidity ^0.8.17;
	```

- Found in src/libraries/ScaledAsset.sol [Line: 2](src/libraries/ScaledAsset.sol#L2)

	```solidity
	pragma solidity ^0.8.17;
	```

- Found in src/libraries/SlippageLib.sol [Line: 2](src/libraries/SlippageLib.sol#L2)

	```solidity
	pragma solidity ^0.8.17;
	```

- Found in src/libraries/Trade.sol [Line: 2](src/libraries/Trade.sol#L2)

	```solidity
	pragma solidity ^0.8.17;
	```

- Found in src/libraries/UniHelper.sol [Line: 2](src/libraries/UniHelper.sol#L2)

	```solidity
	pragma solidity ^0.8.17;
	```

- Found in src/libraries/VaultLib.sol [Line: 2](src/libraries/VaultLib.sol#L2)

	```solidity
	pragma solidity ^0.8.17;
	```

- Found in src/libraries/logic/AddPairLogic.sol [Line: 2](src/libraries/logic/AddPairLogic.sol#L2)

	```solidity
	pragma solidity ^0.8.17;
	```

- Found in src/libraries/logic/LiquidationLogic.sol [Line: 2](src/libraries/logic/LiquidationLogic.sol#L2)

	```solidity
	pragma solidity ^0.8.17;
	```

- Found in src/libraries/logic/ReaderLogic.sol [Line: 2](src/libraries/logic/ReaderLogic.sol#L2)

	```solidity
	pragma solidity ^0.8.17;
	```

- Found in src/libraries/logic/ReallocationLogic.sol [Line: 2](src/libraries/logic/ReallocationLogic.sol#L2)

	```solidity
	pragma solidity ^0.8.17;
	```

- Found in src/libraries/logic/SupplyLogic.sol [Line: 2](src/libraries/logic/SupplyLogic.sol#L2)

	```solidity
	pragma solidity ^0.8.17;
	```

- Found in src/libraries/logic/TradeLogic.sol [Line: 2](src/libraries/logic/TradeLogic.sol#L2)

	```solidity
	pragma solidity ^0.8.17;
	```

- Found in src/libraries/math/Bps.sol [Line: 2](src/libraries/math/Bps.sol#L2)

	```solidity
	pragma solidity ^0.8.17;
	```

- Found in src/libraries/math/LPMath.sol [Line: 2](src/libraries/math/LPMath.sol#L2)

	```solidity
	pragma solidity ^0.8.17;
	```

- Found in src/libraries/math/Math.sol [Line: 2](src/libraries/math/Math.sol#L2)

	```solidity
	pragma solidity ^0.8.17;
	```

- Found in src/libraries/orders/DecayLib.sol [Line: 2](src/libraries/orders/DecayLib.sol#L2)

	```solidity
	pragma solidity ^0.8.17;
	```

- Found in src/libraries/orders/OrderInfoLib.sol [Line: 2](src/libraries/orders/OrderInfoLib.sol#L2)

	```solidity
	pragma solidity ^0.8.17;
	```

- Found in src/libraries/orders/Permit2Lib.sol [Line: 2](src/libraries/orders/Permit2Lib.sol#L2)

	```solidity
	pragma solidity ^0.8.17;
	```

- Found in src/libraries/orders/ResolvedOrder.sol [Line: 2](src/libraries/orders/ResolvedOrder.sol#L2)

	```solidity
	pragma solidity ^0.8.17;
	```

- Found in src/markets/L2Decoder.sol [Line: 2](src/markets/L2Decoder.sol#L2)

	```solidity
	pragma solidity ^0.8.17;
	```

- Found in src/markets/gamma/ArrayLib.sol [Line: 2](src/markets/gamma/ArrayLib.sol#L2)

	```solidity
	pragma solidity ^0.8.17;
	```

- Found in src/markets/gamma/GammaOrder.sol [Line: 2](src/markets/gamma/GammaOrder.sol#L2)

	```solidity
	pragma solidity ^0.8.17;
	```

- Found in src/markets/gamma/GammaTradeMarket.sol [Line: 2](src/markets/gamma/GammaTradeMarket.sol#L2)

	```solidity
	pragma solidity ^0.8.17;
	```

- Found in src/markets/gamma/GammaTradeMarketL2.sol [Line: 2](src/markets/gamma/GammaTradeMarketL2.sol#L2)

	```solidity
	pragma solidity ^0.8.17;
	```

- Found in src/markets/gamma/GammaTradeMarketLib.sol [Line: 2](src/markets/gamma/GammaTradeMarketLib.sol#L2)

	```solidity
	pragma solidity ^0.8.17;
	```

- Found in src/markets/gamma/GammaTradeMarketWrapper.sol [Line: 2](src/markets/gamma/GammaTradeMarketWrapper.sol#L2)

	```solidity
	pragma solidity ^0.8.17;
	```

- Found in src/markets/gamma/L2GammaDecoder.sol [Line: 2](src/markets/gamma/L2GammaDecoder.sol#L2)

	```solidity
	pragma solidity ^0.8.17;
	```

- Found in src/markets/perp/PerpMarket.sol [Line: 2](src/markets/perp/PerpMarket.sol#L2)

	```solidity
	pragma solidity ^0.8.17;
	```

- Found in src/markets/perp/PerpMarketLib.sol [Line: 2](src/markets/perp/PerpMarketLib.sol#L2)

	```solidity
	pragma solidity ^0.8.17;
	```

- Found in src/markets/perp/PerpMarketV1.sol [Line: 2](src/markets/perp/PerpMarketV1.sol#L2)

	```solidity
	pragma solidity ^0.8.17;
	```

- Found in src/markets/perp/PerpOrder.sol [Line: 2](src/markets/perp/PerpOrder.sol#L2)

	```solidity
	pragma solidity ^0.8.17;
	```

- Found in src/markets/perp/PerpOrderV3.sol [Line: 2](src/markets/perp/PerpOrderV3.sol#L2)

	```solidity
	pragma solidity ^0.8.17;
	```

- Found in src/markets/spot/SpotMarket.sol [Line: 2](src/markets/spot/SpotMarket.sol#L2)

	```solidity
	pragma solidity ^0.8.17;
	```

- Found in src/markets/spot/SpotMarketL2.sol [Line: 2](src/markets/spot/SpotMarketL2.sol#L2)

	```solidity
	pragma solidity ^0.8.17;
	```

- Found in src/markets/spot/SpotOrder.sol [Line: 2](src/markets/spot/SpotOrder.sol#L2)

	```solidity
	pragma solidity ^0.8.17;
	```

- Found in src/settlements/UniswapSettlement.sol [Line: 2](src/settlements/UniswapSettlement.sol#L2)

	```solidity
	pragma solidity ^0.8.17;
	```

- Found in src/tokenization/SupplyToken.sol [Line: 2](src/tokenization/SupplyToken.sol#L2)

	```solidity
	pragma solidity ^0.8.17;
	```

- Found in src/types/GlobalData.sol [Line: 2](src/types/GlobalData.sol#L2)

	```solidity
	pragma solidity ^0.8.17;
	```

- Found in src/types/LockData.sol [Line: 2](src/types/LockData.sol#L2)

	```solidity
	pragma solidity ^0.8.17;
	```

- Found in src/vendors/AggregatorV3Interface.sol [Line: 2](src/vendors/AggregatorV3Interface.sol#L2)

	```solidity
	pragma solidity ^0.8.0;
	```

- Found in src/vendors/IPyth.sol [Line: 2](src/vendors/IPyth.sol#L2)

	```solidity
	pragma solidity ^0.8.0;
	```

- Found in src/vendors/IUniswapV3PoolOracle.sol [Line: 2](src/vendors/IUniswapV3PoolOracle.sol#L2)

	```solidity
	pragma solidity ^0.8.17;
	```

</details>



## L-5: Missing checks for `address(0)` when assigning values to address state variables

Check for `address(0)` when assigning values to address state variables.

<details><summary>16 Found Instances</summary>


- Found in src/PredyPool.sol [Line: 303](src/PredyPool.sol#L303)

	```solidity
	        allowedTraders[trader][pairId] = enabled;
	```

- Found in src/base/BaseHookCallbackUpgradable.sol [Line: 21](src/base/BaseHookCallbackUpgradable.sol#L21)

	```solidity
	        _predyPool = predyPool;
	```

- Found in src/base/BaseMarket.sol [Line: 23](src/base/BaseMarket.sol#L23)

	```solidity
	        whitelistFiller = _whitelistFiller;
	```

- Found in src/base/BaseMarket.sol [Line: 85](src/base/BaseMarket.sol#L85)

	```solidity
	        whitelistFiller = newWhitelistFiller;
	```

- Found in src/base/BaseMarket.sol [Line: 93](src/base/BaseMarket.sol#L93)

	```solidity
	        _whiteListedSettlements[settlementContractAddress] = isEnabled;
	```

- Found in src/base/BaseMarketUpgradable.sol [Line: 44](src/base/BaseMarketUpgradable.sol#L44)

	```solidity
	        whitelistFiller = _whitelistFiller;
	```

- Found in src/base/BaseMarketUpgradable.sol [Line: 46](src/base/BaseMarketUpgradable.sol#L46)

	```solidity
	        _quoter = PredyPoolQuoter(quoterAddress);
	```

- Found in src/base/BaseMarketUpgradable.sol [Line: 129](src/base/BaseMarketUpgradable.sol#L129)

	```solidity
	        whitelistFiller = newWhitelistFiller;
	```

- Found in src/base/BaseMarketUpgradable.sol [Line: 133](src/base/BaseMarketUpgradable.sol#L133)

	```solidity
	        _quoter = PredyPoolQuoter(newQuoter);
	```

- Found in src/base/BaseMarketUpgradable.sol [Line: 141](src/base/BaseMarketUpgradable.sol#L141)

	```solidity
	        _whiteListedSettlements[settlementContractAddress] = isEnabled;
	```

- Found in src/lens/GammaTradeMarketQuoter.sol [Line: 17](src/lens/GammaTradeMarketQuoter.sol#L17)

	```solidity
	        gammaTradeMarket = _gammaTradeMarket;
	```

- Found in src/lens/PerpMarketQuoter.sol [Line: 18](src/lens/PerpMarketQuoter.sol#L18)

	```solidity
	        perpMarket = _perpMarket;
	```

- Found in src/lens/SpotMarketQuoter.sol [Line: 16](src/lens/SpotMarketQuoter.sol#L16)

	```solidity
	        spotMarket = _spotMarket;
	```

- Found in src/markets/gamma/GammaTradeMarket.sol [Line: 76](src/markets/gamma/GammaTradeMarket.sol#L76)

	```solidity
	        _permit2 = IPermit2(permit2Address);
	```

- Found in src/markets/perp/PerpMarketV1.sol [Line: 99](src/markets/perp/PerpMarketV1.sol#L99)

	```solidity
	        _permit2 = IPermit2(permit2Address);
	```

- Found in src/markets/spot/SpotMarket.sol [Line: 77](src/markets/spot/SpotMarket.sol#L77)

	```solidity
	        _whiteListedSettlements[settlementContractAddress] = isEnabled;
	```

</details>



## L-6: `public` functions not used internally could be marked `external`

Instead of marking a function as `public`, consider marking it as `external` if it is not used internally.

<details><summary>3 Found Instances</summary>


- Found in src/PredyPool.sol [Line: 70](src/PredyPool.sol#L70)

	```solidity
	    function initialize(address uniswapFactory) public initializer {
	```

- Found in src/markets/gamma/GammaTradeMarket.sol [Line: 69](src/markets/gamma/GammaTradeMarket.sol#L69)

	```solidity
	    function initialize(IPredyPool predyPool, address permit2Address, address whitelistFiller, address quoterAddress)
	```

- Found in src/markets/perp/PerpMarketV1.sol [Line: 92](src/markets/perp/PerpMarketV1.sol#L92)

	```solidity
	    function initialize(IPredyPool predyPool, address permit2Address, address whitelistFiller, address quoterAddress)
	```

</details>



## L-7: Define and use `constant` variables instead of using literals

If the same constant literal value is used multiple times, create a constant state variable and reference it throughout the contract.

<details><summary>128 Found Instances</summary>


- Found in lib/forge-std/src/StdMath.sol [Line: 34](lib/forge-std/src/StdMath.sol#L34)

	```solidity
	        return absDelta * 1e18 / b;
	```

- Found in lib/forge-std/src/StdMath.sol [Line: 41](lib/forge-std/src/StdMath.sol#L41)

	```solidity
	        return absDelta * 1e18 / absB;
	```

- Found in lib/openzeppelin-contracts/contracts/utils/math/Math.sol [Line: 116](lib/openzeppelin-contracts/contracts/utils/math/Math.sol#L116)

	```solidity
	            uint256 inverse = (3 * denominator) ^ 2;
	```

- Found in lib/openzeppelin-contracts/contracts/utils/math/Math.sol [Line: 202](lib/openzeppelin-contracts/contracts/utils/math/Math.sol#L202)

	```solidity
	            if (value >> 128 > 0) {
	```

- Found in lib/openzeppelin-contracts/contracts/utils/math/Math.sol [Line: 203](lib/openzeppelin-contracts/contracts/utils/math/Math.sol#L203)

	```solidity
	                value >>= 128;
	```

- Found in lib/openzeppelin-contracts/contracts/utils/math/Math.sol [Line: 204](lib/openzeppelin-contracts/contracts/utils/math/Math.sol#L204)

	```solidity
	                result += 128;
	```

- Found in lib/openzeppelin-contracts/contracts/utils/math/Math.sol [Line: 206](lib/openzeppelin-contracts/contracts/utils/math/Math.sol#L206)

	```solidity
	            if (value >> 64 > 0) {
	```

- Found in lib/openzeppelin-contracts/contracts/utils/math/Math.sol [Line: 207](lib/openzeppelin-contracts/contracts/utils/math/Math.sol#L207)

	```solidity
	                value >>= 64;
	```

- Found in lib/openzeppelin-contracts/contracts/utils/math/Math.sol [Line: 208](lib/openzeppelin-contracts/contracts/utils/math/Math.sol#L208)

	```solidity
	                result += 64;
	```

- Found in lib/openzeppelin-contracts/contracts/utils/math/Math.sol [Line: 210](lib/openzeppelin-contracts/contracts/utils/math/Math.sol#L210)

	```solidity
	            if (value >> 32 > 0) {
	```

- Found in lib/openzeppelin-contracts/contracts/utils/math/Math.sol [Line: 211](lib/openzeppelin-contracts/contracts/utils/math/Math.sol#L211)

	```solidity
	                value >>= 32;
	```

- Found in lib/openzeppelin-contracts/contracts/utils/math/Math.sol [Line: 212](lib/openzeppelin-contracts/contracts/utils/math/Math.sol#L212)

	```solidity
	                result += 32;
	```

- Found in lib/openzeppelin-contracts/contracts/utils/math/Math.sol [Line: 214](lib/openzeppelin-contracts/contracts/utils/math/Math.sol#L214)

	```solidity
	            if (value >> 16 > 0) {
	```

- Found in lib/openzeppelin-contracts/contracts/utils/math/Math.sol [Line: 215](lib/openzeppelin-contracts/contracts/utils/math/Math.sol#L215)

	```solidity
	                value >>= 16;
	```

- Found in lib/openzeppelin-contracts/contracts/utils/math/Math.sol [Line: 216](lib/openzeppelin-contracts/contracts/utils/math/Math.sol#L216)

	```solidity
	                result += 16;
	```

- Found in lib/openzeppelin-contracts/contracts/utils/math/Math.sol [Line: 218](lib/openzeppelin-contracts/contracts/utils/math/Math.sol#L218)

	```solidity
	            if (value >> 8 > 0) {
	```

- Found in lib/openzeppelin-contracts/contracts/utils/math/Math.sol [Line: 219](lib/openzeppelin-contracts/contracts/utils/math/Math.sol#L219)

	```solidity
	                value >>= 8;
	```

- Found in lib/openzeppelin-contracts/contracts/utils/math/Math.sol [Line: 220](lib/openzeppelin-contracts/contracts/utils/math/Math.sol#L220)

	```solidity
	                result += 8;
	```

- Found in lib/openzeppelin-contracts/contracts/utils/math/Math.sol [Line: 222](lib/openzeppelin-contracts/contracts/utils/math/Math.sol#L222)

	```solidity
	            if (value >> 4 > 0) {
	```

- Found in lib/openzeppelin-contracts/contracts/utils/math/Math.sol [Line: 223](lib/openzeppelin-contracts/contracts/utils/math/Math.sol#L223)

	```solidity
	                value >>= 4;
	```

- Found in lib/openzeppelin-contracts/contracts/utils/math/Math.sol [Line: 224](lib/openzeppelin-contracts/contracts/utils/math/Math.sol#L224)

	```solidity
	                result += 4;
	```

- Found in lib/openzeppelin-contracts/contracts/utils/math/Math.sol [Line: 255](lib/openzeppelin-contracts/contracts/utils/math/Math.sol#L255)

	```solidity
	            if (value >= 10 ** 64) {
	```

- Found in lib/openzeppelin-contracts/contracts/utils/math/Math.sol [Line: 256](lib/openzeppelin-contracts/contracts/utils/math/Math.sol#L256)

	```solidity
	                value /= 10 ** 64;
	```

- Found in lib/openzeppelin-contracts/contracts/utils/math/Math.sol [Line: 257](lib/openzeppelin-contracts/contracts/utils/math/Math.sol#L257)

	```solidity
	                result += 64;
	```

- Found in lib/openzeppelin-contracts/contracts/utils/math/Math.sol [Line: 259](lib/openzeppelin-contracts/contracts/utils/math/Math.sol#L259)

	```solidity
	            if (value >= 10 ** 32) {
	```

- Found in lib/openzeppelin-contracts/contracts/utils/math/Math.sol [Line: 260](lib/openzeppelin-contracts/contracts/utils/math/Math.sol#L260)

	```solidity
	                value /= 10 ** 32;
	```

- Found in lib/openzeppelin-contracts/contracts/utils/math/Math.sol [Line: 261](lib/openzeppelin-contracts/contracts/utils/math/Math.sol#L261)

	```solidity
	                result += 32;
	```

- Found in lib/openzeppelin-contracts/contracts/utils/math/Math.sol [Line: 263](lib/openzeppelin-contracts/contracts/utils/math/Math.sol#L263)

	```solidity
	            if (value >= 10 ** 16) {
	```

- Found in lib/openzeppelin-contracts/contracts/utils/math/Math.sol [Line: 264](lib/openzeppelin-contracts/contracts/utils/math/Math.sol#L264)

	```solidity
	                value /= 10 ** 16;
	```

- Found in lib/openzeppelin-contracts/contracts/utils/math/Math.sol [Line: 265](lib/openzeppelin-contracts/contracts/utils/math/Math.sol#L265)

	```solidity
	                result += 16;
	```

- Found in lib/openzeppelin-contracts/contracts/utils/math/Math.sol [Line: 267](lib/openzeppelin-contracts/contracts/utils/math/Math.sol#L267)

	```solidity
	            if (value >= 10 ** 8) {
	```

- Found in lib/openzeppelin-contracts/contracts/utils/math/Math.sol [Line: 268](lib/openzeppelin-contracts/contracts/utils/math/Math.sol#L268)

	```solidity
	                value /= 10 ** 8;
	```

- Found in lib/openzeppelin-contracts/contracts/utils/math/Math.sol [Line: 269](lib/openzeppelin-contracts/contracts/utils/math/Math.sol#L269)

	```solidity
	                result += 8;
	```

- Found in lib/openzeppelin-contracts/contracts/utils/math/Math.sol [Line: 271](lib/openzeppelin-contracts/contracts/utils/math/Math.sol#L271)

	```solidity
	            if (value >= 10 ** 4) {
	```

- Found in lib/openzeppelin-contracts/contracts/utils/math/Math.sol [Line: 272](lib/openzeppelin-contracts/contracts/utils/math/Math.sol#L272)

	```solidity
	                value /= 10 ** 4;
	```

- Found in lib/openzeppelin-contracts/contracts/utils/math/Math.sol [Line: 273](lib/openzeppelin-contracts/contracts/utils/math/Math.sol#L273)

	```solidity
	                result += 4;
	```

- Found in lib/openzeppelin-contracts/contracts/utils/math/Math.sol [Line: 275](lib/openzeppelin-contracts/contracts/utils/math/Math.sol#L275)

	```solidity
	            if (value >= 10 ** 2) {
	```

- Found in lib/openzeppelin-contracts/contracts/utils/math/Math.sol [Line: 276](lib/openzeppelin-contracts/contracts/utils/math/Math.sol#L276)

	```solidity
	                value /= 10 ** 2;
	```

- Found in lib/openzeppelin-contracts/contracts/utils/math/Math.sol [Line: 279](lib/openzeppelin-contracts/contracts/utils/math/Math.sol#L279)

	```solidity
	            if (value >= 10 ** 1) {
	```

- Found in lib/openzeppelin-contracts/contracts/utils/math/Math.sol [Line: 293](lib/openzeppelin-contracts/contracts/utils/math/Math.sol#L293)

	```solidity
	            return result + (rounding == Rounding.Up && 10 ** result < value ? 1 : 0);
	```

- Found in lib/openzeppelin-contracts/contracts/utils/math/Math.sol [Line: 306](lib/openzeppelin-contracts/contracts/utils/math/Math.sol#L306)

	```solidity
	            if (value >> 128 > 0) {
	```

- Found in lib/openzeppelin-contracts/contracts/utils/math/Math.sol [Line: 307](lib/openzeppelin-contracts/contracts/utils/math/Math.sol#L307)

	```solidity
	                value >>= 128;
	```

- Found in lib/openzeppelin-contracts/contracts/utils/math/Math.sol [Line: 308](lib/openzeppelin-contracts/contracts/utils/math/Math.sol#L308)

	```solidity
	                result += 16;
	```

- Found in lib/openzeppelin-contracts/contracts/utils/math/Math.sol [Line: 310](lib/openzeppelin-contracts/contracts/utils/math/Math.sol#L310)

	```solidity
	            if (value >> 64 > 0) {
	```

- Found in lib/openzeppelin-contracts/contracts/utils/math/Math.sol [Line: 311](lib/openzeppelin-contracts/contracts/utils/math/Math.sol#L311)

	```solidity
	                value >>= 64;
	```

- Found in lib/openzeppelin-contracts/contracts/utils/math/Math.sol [Line: 312](lib/openzeppelin-contracts/contracts/utils/math/Math.sol#L312)

	```solidity
	                result += 8;
	```

- Found in lib/openzeppelin-contracts/contracts/utils/math/Math.sol [Line: 314](lib/openzeppelin-contracts/contracts/utils/math/Math.sol#L314)

	```solidity
	            if (value >> 32 > 0) {
	```

- Found in lib/openzeppelin-contracts/contracts/utils/math/Math.sol [Line: 315](lib/openzeppelin-contracts/contracts/utils/math/Math.sol#L315)

	```solidity
	                value >>= 32;
	```

- Found in lib/openzeppelin-contracts/contracts/utils/math/Math.sol [Line: 316](lib/openzeppelin-contracts/contracts/utils/math/Math.sol#L316)

	```solidity
	                result += 4;
	```

- Found in lib/openzeppelin-contracts/contracts/utils/math/Math.sol [Line: 318](lib/openzeppelin-contracts/contracts/utils/math/Math.sol#L318)

	```solidity
	            if (value >> 16 > 0) {
	```

- Found in lib/openzeppelin-contracts/contracts/utils/math/Math.sol [Line: 319](lib/openzeppelin-contracts/contracts/utils/math/Math.sol#L319)

	```solidity
	                value >>= 16;
	```

- Found in lib/openzeppelin-contracts/contracts/utils/math/Math.sol [Line: 322](lib/openzeppelin-contracts/contracts/utils/math/Math.sol#L322)

	```solidity
	            if (value >> 8 > 0) {
	```

- Found in lib/openzeppelin-contracts/contracts/utils/math/Math.sol [Line: 336](lib/openzeppelin-contracts/contracts/utils/math/Math.sol#L336)

	```solidity
	            return result + (rounding == Rounding.Up && 1 << (result << 3) < value ? 1 : 0);
	```

- Found in lib/v3-core/contracts/libraries/TickMath.sol [Line: 34](lib/v3-core/contracts/libraries/TickMath.sol#L34)

	```solidity
	            if (absTick & 0x2 != 0) ratio = (ratio * 0xfff97272373d413259a46990580e213a) >> 128;
	```

- Found in lib/v3-core/contracts/libraries/TickMath.sol [Line: 35](lib/v3-core/contracts/libraries/TickMath.sol#L35)

	```solidity
	            if (absTick & 0x4 != 0) ratio = (ratio * 0xfff2e50f5f656932ef12357cf3c7fdcc) >> 128;
	```

- Found in lib/v3-core/contracts/libraries/TickMath.sol [Line: 36](lib/v3-core/contracts/libraries/TickMath.sol#L36)

	```solidity
	            if (absTick & 0x8 != 0) ratio = (ratio * 0xffe5caca7e10e4e61c3624eaa0941cd0) >> 128;
	```

- Found in lib/v3-core/contracts/libraries/TickMath.sol [Line: 37](lib/v3-core/contracts/libraries/TickMath.sol#L37)

	```solidity
	            if (absTick & 0x10 != 0) ratio = (ratio * 0xffcb9843d60f6159c9db58835c926644) >> 128;
	```

- Found in lib/v3-core/contracts/libraries/TickMath.sol [Line: 38](lib/v3-core/contracts/libraries/TickMath.sol#L38)

	```solidity
	            if (absTick & 0x20 != 0) ratio = (ratio * 0xff973b41fa98c081472e6896dfb254c0) >> 128;
	```

- Found in lib/v3-core/contracts/libraries/TickMath.sol [Line: 39](lib/v3-core/contracts/libraries/TickMath.sol#L39)

	```solidity
	            if (absTick & 0x40 != 0) ratio = (ratio * 0xff2ea16466c96a3843ec78b326b52861) >> 128;
	```

- Found in lib/v3-core/contracts/libraries/TickMath.sol [Line: 40](lib/v3-core/contracts/libraries/TickMath.sol#L40)

	```solidity
	            if (absTick & 0x80 != 0) ratio = (ratio * 0xfe5dee046a99a2a811c461f1969c3053) >> 128;
	```

- Found in lib/v3-core/contracts/libraries/TickMath.sol [Line: 41](lib/v3-core/contracts/libraries/TickMath.sol#L41)

	```solidity
	            if (absTick & 0x100 != 0) ratio = (ratio * 0xfcbe86c7900a88aedcffc83b479aa3a4) >> 128;
	```

- Found in lib/v3-core/contracts/libraries/TickMath.sol [Line: 42](lib/v3-core/contracts/libraries/TickMath.sol#L42)

	```solidity
	            if (absTick & 0x200 != 0) ratio = (ratio * 0xf987a7253ac413176f2b074cf7815e54) >> 128;
	```

- Found in lib/v3-core/contracts/libraries/TickMath.sol [Line: 43](lib/v3-core/contracts/libraries/TickMath.sol#L43)

	```solidity
	            if (absTick & 0x400 != 0) ratio = (ratio * 0xf3392b0822b70005940c7a398e4b70f3) >> 128;
	```

- Found in lib/v3-core/contracts/libraries/TickMath.sol [Line: 44](lib/v3-core/contracts/libraries/TickMath.sol#L44)

	```solidity
	            if (absTick & 0x800 != 0) ratio = (ratio * 0xe7159475a2c29b7443b29c7fa6e889d9) >> 128;
	```

- Found in lib/v3-core/contracts/libraries/TickMath.sol [Line: 45](lib/v3-core/contracts/libraries/TickMath.sol#L45)

	```solidity
	            if (absTick & 0x1000 != 0) ratio = (ratio * 0xd097f3bdfd2022b8845ad8f792aa5825) >> 128;
	```

- Found in lib/v3-core/contracts/libraries/TickMath.sol [Line: 46](lib/v3-core/contracts/libraries/TickMath.sol#L46)

	```solidity
	            if (absTick & 0x2000 != 0) ratio = (ratio * 0xa9f746462d870fdf8a65dc1f90e061e5) >> 128;
	```

- Found in lib/v3-core/contracts/libraries/TickMath.sol [Line: 47](lib/v3-core/contracts/libraries/TickMath.sol#L47)

	```solidity
	            if (absTick & 0x4000 != 0) ratio = (ratio * 0x70d869a156d2a1b890bb3df62baf32f7) >> 128;
	```

- Found in lib/v3-core/contracts/libraries/TickMath.sol [Line: 48](lib/v3-core/contracts/libraries/TickMath.sol#L48)

	```solidity
	            if (absTick & 0x8000 != 0) ratio = (ratio * 0x31be135f97d08fd981231505542fcfa6) >> 128;
	```

- Found in lib/v3-core/contracts/libraries/TickMath.sol [Line: 49](lib/v3-core/contracts/libraries/TickMath.sol#L49)

	```solidity
	            if (absTick & 0x10000 != 0) ratio = (ratio * 0x9aa508b5b7a84e1c677de54f3e99bc9) >> 128;
	```

- Found in lib/v3-core/contracts/libraries/TickMath.sol [Line: 50](lib/v3-core/contracts/libraries/TickMath.sol#L50)

	```solidity
	            if (absTick & 0x20000 != 0) ratio = (ratio * 0x5d6af8dedb81196699c329225ee604) >> 128;
	```

- Found in lib/v3-core/contracts/libraries/TickMath.sol [Line: 51](lib/v3-core/contracts/libraries/TickMath.sol#L51)

	```solidity
	            if (absTick & 0x40000 != 0) ratio = (ratio * 0x2216e584f5fa1ea926041bedfe98) >> 128;
	```

- Found in lib/v3-core/contracts/libraries/TickMath.sol [Line: 52](lib/v3-core/contracts/libraries/TickMath.sol#L52)

	```solidity
	            if (absTick & 0x80000 != 0) ratio = (ratio * 0x48a170391f7dc42444e8fa2) >> 128;
	```

- Found in lib/v3-core/contracts/libraries/TickMath.sol [Line: 59](lib/v3-core/contracts/libraries/TickMath.sol#L59)

	```solidity
	            sqrtPriceX96 = uint160((ratio >> 32) + (ratio % (1 << 32) == 0 ? 0 : 1));
	```

- Found in lib/v3-core/contracts/libraries/TickMath.sol [Line: 72](lib/v3-core/contracts/libraries/TickMath.sol#L72)

	```solidity
	            uint256 ratio = uint256(sqrtPriceX96) << 32;
	```

- Found in lib/v3-core/contracts/libraries/TickMath.sol [Line: 117](lib/v3-core/contracts/libraries/TickMath.sol#L117)

	```solidity
	            if (msb >= 128) r = ratio >> (msb - 127);
	```

- Found in lib/v3-core/contracts/libraries/TickMath.sol [Line: 118](lib/v3-core/contracts/libraries/TickMath.sol#L118)

	```solidity
	            else r = ratio << (127 - msb);
	```

- Found in lib/v3-core/contracts/libraries/TickMath.sol [Line: 120](lib/v3-core/contracts/libraries/TickMath.sol#L120)

	```solidity
	            int256 log_2 = (int256(msb) - 128) << 64;
	```

- Found in lib/v3-core/contracts/libraries/TickMath.sol [Line: 208](lib/v3-core/contracts/libraries/TickMath.sol#L208)

	```solidity
	            int24 tickLow = int24((log_sqrt10001 - 3402992956809132418596140100660247210) >> 128);
	```

- Found in lib/v3-core/contracts/libraries/TickMath.sol [Line: 209](lib/v3-core/contracts/libraries/TickMath.sol#L209)

	```solidity
	            int24 tickHi = int24((log_sqrt10001 + 291339464771989622907027621153398088495) >> 128);
	```

- Found in src/libraries/Perp.sol [Line: 168](src/libraries/Perp.sol#L168)

	```solidity
	            ) * 1e18 / int256(_sqrtAssetStatus.lastRebalanceTotalSquartAmount);
	```

- Found in src/libraries/Perp.sol [Line: 172](src/libraries/Perp.sol#L172)

	```solidity
	            ) * 1e18 / int256(_sqrtAssetStatus.lastRebalanceTotalSquartAmount);
	```

- Found in src/libraries/Perp.sol [Line: 399](src/libraries/Perp.sol#L399)

	```solidity
	            f0, _assetStatus.totalAmount + _assetStatus.borrowedAmount * spreadParam / 1000, _assetStatus.totalAmount
	```

- Found in src/libraries/Perp.sol [Line: 402](src/libraries/Perp.sol#L402)

	```solidity
	            f1, _assetStatus.totalAmount + _assetStatus.borrowedAmount * spreadParam / 1000, _assetStatus.totalAmount
	```

- Found in src/libraries/Perp.sol [Line: 405](src/libraries/Perp.sol#L405)

	```solidity
	        _assetStatus.borrowPremium0Growth += FullMath.mulDiv(f0, 1000 + spreadParam, 1000);
	```

- Found in src/libraries/Perp.sol [Line: 406](src/libraries/Perp.sol#L406)

	```solidity
	        _assetStatus.borrowPremium1Growth += FullMath.mulDiv(f1, 1000 + spreadParam, 1000);
	```

- Found in src/libraries/Perp.sol [Line: 611](src/libraries/Perp.sol#L611)

	```solidity
	        if (utilization > 1e18) {
	```

- Found in src/libraries/Perp.sol [Line: 612](src/libraries/Perp.sol#L612)

	```solidity
	            return 1e18;
	```

- Found in src/libraries/ScaledAsset.sol [Line: 197](src/libraries/ScaledAsset.sol#L197)

	```solidity
	            100
	```

- Found in src/libraries/ScaledAsset.sol [Line: 205](src/libraries/ScaledAsset.sol#L205)

	```solidity
	            100 - _reserveFactor,
	```

- Found in src/libraries/ScaledAsset.sol [Line: 206](src/libraries/ScaledAsset.sol#L206)

	```solidity
	            100
	```

- Found in src/libraries/ScaledAsset.sol [Line: 239](src/libraries/ScaledAsset.sol#L239)

	```solidity
	        if (utilization > 1e18) {
	```

- Found in src/libraries/ScaledAsset.sol [Line: 240](src/libraries/ScaledAsset.sol#L240)

	```solidity
	            return 1e18;
	```

- Found in src/libraries/SlippageLib.sol [Line: 48](src/libraries/SlippageLib.sol#L48)

	```solidity
	                    tradeResult.sqrtPrice < sqrtBasePrice * 1e8 / maxAcceptableSqrtPriceRange
	```

- Found in src/libraries/SlippageLib.sol [Line: 49](src/libraries/SlippageLib.sol#L49)

	```solidity
	                        || sqrtBasePrice * maxAcceptableSqrtPriceRange / 1e8 < tradeResult.sqrtPrice
	```

- Found in src/libraries/Trade.sol [Line: 87](src/libraries/Trade.sol#L87)

	```solidity
	            int256 amountQuote = calculateStableAmount(sqrtPrice, 1e18).toInt256();
	```

- Found in src/libraries/Trade.sol [Line: 89](src/libraries/Trade.sol#L89)

	```solidity
	            return divToStable(swapParams, int256(1e18), amountQuote, 0);
	```

- Found in src/libraries/logic/AddPairLogic.sol [Line: 214](src/libraries/logic/AddPairLogic.sol#L214)

	```solidity
	        require(1e8 < _assetRiskParams.riskRatio && _assetRiskParams.riskRatio <= 10 * 1e8, "C0");
	```

- Found in src/libraries/logic/AddPairLogic.sol [Line: 221](src/libraries/logic/AddPairLogic.sol#L221)

	```solidity
	            _irmParams.baseRate <= 1e18 && _irmParams.kinkRate <= 1e18 && _irmParams.slope1 <= 1e18
	```

- Found in src/libraries/logic/AddPairLogic.sol [Line: 222](src/libraries/logic/AddPairLogic.sol#L222)

	```solidity
	                && _irmParams.slope2 <= 10 * 1e18,
	```

- Found in src/libraries/logic/LiquidationLogic.sol [Line: 45](src/libraries/logic/LiquidationLogic.sol#L45)

	```solidity
	        require(closeRatio > 0 && closeRatio <= 1e18, "ICR");
	```

- Found in src/libraries/logic/LiquidationLogic.sol [Line: 62](src/libraries/logic/LiquidationLogic.sol#L62)

	```solidity
	            -vault.openPosition.perp.amount * int256(closeRatio) / 1e18,
	```

- Found in src/libraries/logic/LiquidationLogic.sol [Line: 63](src/libraries/logic/LiquidationLogic.sol#L63)

	```solidity
	            -vault.openPosition.sqrtPerp.amount * int256(closeRatio) / 1e18,
	```

- Found in src/libraries/logic/LiquidationLogic.sol [Line: 168](src/libraries/logic/LiquidationLogic.sol#L168)

	```solidity
	        uint256 ratio = uint256(vaultValue * 1e4 / minMargin);
	```

- Found in src/libraries/logic/LiquidationLogic.sol [Line: 170](src/libraries/logic/LiquidationLogic.sol#L170)

	```solidity
	        if (ratio > 1e4) {
	```

- Found in src/libraries/logic/LiquidationLogic.sol [Line: 174](src/libraries/logic/LiquidationLogic.sol#L174)

	```solidity
	        return (riskParams.maxSlippage - ratio * (riskParams.maxSlippage - riskParams.minSlippage) / 1e4);
	```

- Found in src/markets/gamma/GammaTradeMarketLib.sol [Line: 53](src/markets/gamma/GammaTradeMarketLib.sol#L53)

	```solidity
	        int256 sqrtPrice = int256(_sqrtPrice) * (1e6 + maximaDeviation) / 1e6;
	```

- Found in src/markets/gamma/GammaTradeMarketLib.sol [Line: 203](src/markets/gamma/GammaTradeMarketLib.sol#L203)

	```solidity
	        require(-1e6 < modifyInfo.maximaDeviation && modifyInfo.maximaDeviation < 1e6);
	```

</details>



## L-8: Event is missing `indexed` fields

Index event fields make the field more quickly accessible to off-chain tools that parse events. However, note that each index field costs extra gas during emission, so it's not necessarily best to index the maximum allowed per event (three fields). Each event should use three indexed fields if there are three or more fields, and gas usage is not particularly of concern for the events in question. If there are fewer than three fields, all of the fields should be indexed.

<details><summary>28 Found Instances</summary>


- Found in src/PredyPool.sol [Line: 42](src/PredyPool.sol#L42)

	```solidity
	    event OperatorUpdated(address operator);
	```

- Found in src/PredyPool.sol [Line: 43](src/PredyPool.sol#L43)

	```solidity
	    event RecepientUpdated(uint256 vaultId, address recipient);
	```

- Found in src/PredyPool.sol [Line: 44](src/PredyPool.sol#L44)

	```solidity
	    event ProtocolRevenueWithdrawn(uint256 pairId, bool isStable, uint256 amount);
	```

- Found in src/PredyPool.sol [Line: 45](src/PredyPool.sol#L45)

	```solidity
	    event CreatorRevenueWithdrawn(uint256 pairId, bool isStable, uint256 amount);
	```

- Found in src/PriceFeed.sol [Line: 12](src/PriceFeed.sol#L12)

	```solidity
	    event PriceFeedCreated(address quotePrice, bytes32 priceId, uint256 decimalsDiff, address priceFeed);
	```

- Found in src/libraries/ApplyInterestLib.sol [Line: 12](src/libraries/ApplyInterestLib.sol#L12)

	```solidity
	    event InterestGrowthUpdated(
	```

- Found in src/libraries/Perp.sol [Line: 109](src/libraries/Perp.sol#L109)

	```solidity
	    event PremiumGrowthUpdated(
	```

- Found in src/libraries/Perp.sol [Line: 117](src/libraries/Perp.sol#L117)

	```solidity
	    event SqrtPositionUpdated(uint256 indexed pairId, int256 open, int256 close);
	```

- Found in src/libraries/ScaledAsset.sol [Line: 27](src/libraries/ScaledAsset.sol#L27)

	```solidity
	    event ScaledAssetPositionUpdated(uint256 indexed pairId, bool isStable, int256 open, int256 close);
	```

- Found in src/libraries/Trade.sol [Line: 30](src/libraries/Trade.sol#L30)

	```solidity
	    event Swapped(uint256 pairId, uint256 vaultId, address owner, int256 settledQuoteAmount, int256 settledBaseAmount);
	```

- Found in src/libraries/VaultLib.sol [Line: 9](src/libraries/VaultLib.sol#L9)

	```solidity
	    event VaultCreated(uint256 vaultId, address owner, address quoteToken, uint256 pairId);
	```

- Found in src/libraries/logic/AddPairLogic.sol [Line: 31](src/libraries/logic/AddPairLogic.sol#L31)

	```solidity
	    event PairAdded(uint256 pairId, address quoteToken, address uniswapPool);
	```

- Found in src/libraries/logic/AddPairLogic.sol [Line: 32](src/libraries/logic/AddPairLogic.sol#L32)

	```solidity
	    event AssetRiskParamsUpdated(uint256 pairId, Perp.AssetRiskParams riskParams);
	```

- Found in src/libraries/logic/AddPairLogic.sol [Line: 33](src/libraries/logic/AddPairLogic.sol#L33)

	```solidity
	    event IRMParamsUpdated(
	```

- Found in src/libraries/logic/AddPairLogic.sol [Line: 36](src/libraries/logic/AddPairLogic.sol#L36)

	```solidity
	    event FeeRatioUpdated(uint256 pairId, uint8 feeRatio);
	```

- Found in src/libraries/logic/AddPairLogic.sol [Line: 37](src/libraries/logic/AddPairLogic.sol#L37)

	```solidity
	    event PoolOwnerUpdated(uint256 pairId, address poolOwner);
	```

- Found in src/libraries/logic/AddPairLogic.sol [Line: 38](src/libraries/logic/AddPairLogic.sol#L38)

	```solidity
	    event PriceOracleUpdated(uint256 pairId, address priceOracle);
	```

- Found in src/libraries/logic/LiquidationLogic.sol [Line: 29](src/libraries/logic/LiquidationLogic.sol#L29)

	```solidity
	    event PositionLiquidated(
	```

- Found in src/libraries/logic/ReallocationLogic.sol [Line: 18](src/libraries/logic/ReallocationLogic.sol#L18)

	```solidity
	    event Rebalanced(
	```

- Found in src/libraries/logic/SupplyLogic.sol [Line: 19](src/libraries/logic/SupplyLogic.sol#L19)

	```solidity
	    event TokenSupplied(address indexed account, uint256 pairId, bool isStable, uint256 suppliedAmount);
	```

- Found in src/libraries/logic/SupplyLogic.sol [Line: 20](src/libraries/logic/SupplyLogic.sol#L20)

	```solidity
	    event TokenWithdrawn(address indexed account, uint256 pairId, bool isStable, uint256 finalWithdrawnAmount);
	```

- Found in src/libraries/logic/TradeLogic.sol [Line: 18](src/libraries/logic/TradeLogic.sol#L18)

	```solidity
	    event MarginUpdated(uint256 indexed vaultId, int256 updatedMarginAmount);
	```

- Found in src/libraries/logic/TradeLogic.sol [Line: 20](src/libraries/logic/TradeLogic.sol#L20)

	```solidity
	    event PositionUpdated(
	```

- Found in src/markets/gamma/GammaTradeMarket.sol [Line: 53](src/markets/gamma/GammaTradeMarket.sol#L53)

	```solidity
	    event GammaPositionTraded(
	```

- Found in src/markets/gamma/GammaTradeMarket.sol [Line: 65](src/markets/gamma/GammaTradeMarket.sol#L65)

	```solidity
	    event GammaPositionModified(address indexed trader, uint256 pairId, uint256 positionId, GammaModifyInfo modifyInfo);
	```

- Found in src/markets/perp/PerpMarketV1.sol [Line: 70](src/markets/perp/PerpMarketV1.sol#L70)

	```solidity
	    event PerpTraded(
	```

- Found in src/markets/perp/PerpMarketV1.sol [Line: 79](src/markets/perp/PerpMarketV1.sol#L79)

	```solidity
	    event PerpTraded2(
	```

- Found in src/markets/spot/SpotMarket.sol [Line: 52](src/markets/spot/SpotMarket.sol#L52)

	```solidity
	    event SpotTraded(
	```

</details>



## L-9: Empty `require()` / `revert()` statements

Use descriptive reason strings or custom errors for revert paths.

<details><summary>14 Found Instances</summary>


- Found in lib/v3-core/contracts/libraries/FullMath.sol [Line: 35](lib/v3-core/contracts/libraries/FullMath.sol#L35)

	```solidity
	                require(denominator > 0);
	```

- Found in lib/v3-core/contracts/libraries/FullMath.sol [Line: 44](lib/v3-core/contracts/libraries/FullMath.sol#L44)

	```solidity
	            require(denominator > prod1);
	```

- Found in lib/v3-core/contracts/libraries/FullMath.sol [Line: 123](lib/v3-core/contracts/libraries/FullMath.sol#L123)

	```solidity
	                require(result < type(uint256).max);
	```

- Found in src/PredyPool.sol [Line: 80](src/PredyPool.sol#L80)

	```solidity
	        require(allowedUniswapPools[msg.sender]);
	```

- Found in src/PredyPool.sol [Line: 98](src/PredyPool.sol#L98)

	```solidity
	        require(newOperator != address(0));
	```

- Found in src/PredyPool.sol [Line: 301](src/PredyPool.sol#L301)

	```solidity
	        require(globalData.pairs[pairId].allowlistEnabled);
	```

- Found in src/PriceFeed.sol [Line: 52](src/PriceFeed.sol#L52)

	```solidity
	        require(quoteAnswer > 0 && basePrice.price > 0);
	```

- Found in src/base/BaseMarket.sol [Line: 105](src/base/BaseMarket.sol#L105)

	```solidity
	        require(_quoteTokenMap[pairId] != address(0) && entryTokenAddress == _quoteTokenMap[pairId]);
	```

- Found in src/base/BaseMarketUpgradable.sol [Line: 153](src/base/BaseMarketUpgradable.sol#L153)

	```solidity
	        require(_quoteTokenMap[pairId] != address(0) && entryTokenAddress == _quoteTokenMap[pairId]);
	```

- Found in src/libraries/Reallocation.sol [Line: 110](src/libraries/Reallocation.sol#L110)

	```solidity
	        require(tickSpacing > 0);
	```

- Found in src/markets/gamma/GammaTradeMarketLib.sol [Line: 201](src/markets/gamma/GammaTradeMarketLib.sol#L201)

	```solidity
	        require(modifyInfo.maxSlippageTolerance >= modifyInfo.minSlippageTolerance);
	```

- Found in src/markets/gamma/GammaTradeMarketLib.sol [Line: 202](src/markets/gamma/GammaTradeMarketLib.sol#L202)

	```solidity
	        require(modifyInfo.maxSlippageTolerance <= 2 * Bps.ONE);
	```

- Found in src/markets/gamma/GammaTradeMarketLib.sol [Line: 203](src/markets/gamma/GammaTradeMarketLib.sol#L203)

	```solidity
	        require(-1e6 < modifyInfo.maximaDeviation && modifyInfo.maximaDeviation < 1e6);
	```

- Found in src/markets/perp/PerpMarketV1.sol [Line: 266](src/markets/perp/PerpMarketV1.sol#L266)

	```solidity
	        require(perpOrder.slippageTolerance <= Bps.ONE);
	```

</details>



## L-10: PUSH0 is not supported by all chains

Solc compiler version 0.8.20 switches the default target EVM version to Shanghai, which means that the generated bytecode will include PUSH0 opcodes. Be sure to select the appropriate EVM version in case you intend to deploy on a chain other than mainnet like L2 chains that may not support PUSH0, otherwise deployment of your contracts will fail.

<details><summary>73 Found Instances</summary>


- Found in lib/forge-std/src/StdMath.sol [Line: 2](lib/forge-std/src/StdMath.sol#L2)

	```solidity
	pragma solidity >=0.6.2 <0.9.0;
	```

- Found in lib/openzeppelin-contracts/contracts/utils/math/Math.sol [Line: 4](lib/openzeppelin-contracts/contracts/utils/math/Math.sol#L4)

	```solidity
	pragma solidity ^0.8.0;
	```

- Found in lib/openzeppelin-contracts/contracts/utils/math/SignedMath.sol [Line: 4](lib/openzeppelin-contracts/contracts/utils/math/SignedMath.sol#L4)

	```solidity
	pragma solidity ^0.8.0;
	```

- Found in lib/v3-core/contracts/libraries/FullMath.sol [Line: 2](lib/v3-core/contracts/libraries/FullMath.sol#L2)

	```solidity
	pragma solidity ^0.8.0;
	```

- Found in lib/v3-core/contracts/libraries/TickMath.sol [Line: 2](lib/v3-core/contracts/libraries/TickMath.sol#L2)

	```solidity
	pragma solidity ^0.8.0;
	```

- Found in src/PredyPool.sol [Line: 2](src/PredyPool.sol#L2)

	```solidity
	pragma solidity ^0.8.17;
	```

- Found in src/PriceFeed.sol [Line: 2](src/PriceFeed.sol#L2)

	```solidity
	pragma solidity ^0.8.17;
	```

- Found in src/base/BaseHookCallback.sol [Line: 2](src/base/BaseHookCallback.sol#L2)

	```solidity
	pragma solidity ^0.8.17;
	```

- Found in src/base/BaseHookCallbackUpgradable.sol [Line: 2](src/base/BaseHookCallbackUpgradable.sol#L2)

	```solidity
	pragma solidity ^0.8.17;
	```

- Found in src/base/BaseMarket.sol [Line: 2](src/base/BaseMarket.sol#L2)

	```solidity
	pragma solidity ^0.8.17;
	```

- Found in src/base/BaseMarketUpgradable.sol [Line: 2](src/base/BaseMarketUpgradable.sol#L2)

	```solidity
	pragma solidity ^0.8.17;
	```

- Found in src/base/SettlementCallbackLib.sol [Line: 2](src/base/SettlementCallbackLib.sol#L2)

	```solidity
	pragma solidity ^0.8.17;
	```

- Found in src/interfaces/IFillerMarket.sol [Line: 2](src/interfaces/IFillerMarket.sol#L2)

	```solidity
	pragma solidity >=0.8.0;
	```

- Found in src/interfaces/IHooks.sol [Line: 2](src/interfaces/IHooks.sol#L2)

	```solidity
	pragma solidity >=0.7.0;
	```

- Found in src/interfaces/IPredyPool.sol [Line: 2](src/interfaces/IPredyPool.sol#L2)

	```solidity
	pragma solidity >=0.8.0;
	```

- Found in src/interfaces/ISettlement.sol [Line: 2](src/interfaces/ISettlement.sol#L2)

	```solidity
	pragma solidity >=0.7.0;
	```

- Found in src/interfaces/ISpotMarket.sol [Line: 2](src/interfaces/ISpotMarket.sol#L2)

	```solidity
	pragma solidity >=0.8.0;
	```

- Found in src/interfaces/ISupplyToken.sol [Line: 2](src/interfaces/ISupplyToken.sol#L2)

	```solidity
	pragma solidity >=0.7.0;
	```

- Found in src/lens/GammaTradeMarketQuoter.sol [Line: 2](src/lens/GammaTradeMarketQuoter.sol#L2)

	```solidity
	pragma solidity ^0.8.17;
	```

- Found in src/lens/PerpMarketQuoter.sol [Line: 2](src/lens/PerpMarketQuoter.sol#L2)

	```solidity
	pragma solidity ^0.8.17;
	```

- Found in src/lens/PredyPoolQuoter.sol [Line: 2](src/lens/PredyPoolQuoter.sol#L2)

	```solidity
	pragma solidity ^0.8.17;
	```

- Found in src/lens/SpotMarketQuoter.sol [Line: 2](src/lens/SpotMarketQuoter.sol#L2)

	```solidity
	pragma solidity ^0.8.17;
	```

- Found in src/libraries/ApplyInterestLib.sol [Line: 2](src/libraries/ApplyInterestLib.sol#L2)

	```solidity
	pragma solidity ^0.8.17;
	```

- Found in src/libraries/Constants.sol [Line: 2](src/libraries/Constants.sol#L2)

	```solidity
	pragma solidity ^0.8.17;
	```

- Found in src/libraries/DataType.sol [Line: 2](src/libraries/DataType.sol#L2)

	```solidity
	pragma solidity ^0.8.17;
	```

- Found in src/libraries/InterestRateModel.sol [Line: 2](src/libraries/InterestRateModel.sol#L2)

	```solidity
	pragma solidity ^0.8.17;
	```

- Found in src/libraries/PairLib.sol [Line: 2](src/libraries/PairLib.sol#L2)

	```solidity
	pragma solidity ^0.8.17;
	```

- Found in src/libraries/Perp.sol [Line: 2](src/libraries/Perp.sol#L2)

	```solidity
	pragma solidity ^0.8.17;
	```

- Found in src/libraries/PerpFee.sol [Line: 2](src/libraries/PerpFee.sol#L2)

	```solidity
	pragma solidity ^0.8.17;
	```

- Found in src/libraries/PositionCalculator.sol [Line: 2](src/libraries/PositionCalculator.sol#L2)

	```solidity
	pragma solidity ^0.8.17;
	```

- Found in src/libraries/PremiumCurveModel.sol [Line: 2](src/libraries/PremiumCurveModel.sol#L2)

	```solidity
	pragma solidity ^0.8.17;
	```

- Found in src/libraries/Reallocation.sol [Line: 2](src/libraries/Reallocation.sol#L2)

	```solidity
	pragma solidity ^0.8.17;
	```

- Found in src/libraries/ScaledAsset.sol [Line: 2](src/libraries/ScaledAsset.sol#L2)

	```solidity
	pragma solidity ^0.8.17;
	```

- Found in src/libraries/SlippageLib.sol [Line: 2](src/libraries/SlippageLib.sol#L2)

	```solidity
	pragma solidity ^0.8.17;
	```

- Found in src/libraries/Trade.sol [Line: 2](src/libraries/Trade.sol#L2)

	```solidity
	pragma solidity ^0.8.17;
	```

- Found in src/libraries/UniHelper.sol [Line: 2](src/libraries/UniHelper.sol#L2)

	```solidity
	pragma solidity ^0.8.17;
	```

- Found in src/libraries/VaultLib.sol [Line: 2](src/libraries/VaultLib.sol#L2)

	```solidity
	pragma solidity ^0.8.17;
	```

- Found in src/libraries/logic/AddPairLogic.sol [Line: 2](src/libraries/logic/AddPairLogic.sol#L2)

	```solidity
	pragma solidity ^0.8.17;
	```

- Found in src/libraries/logic/LiquidationLogic.sol [Line: 2](src/libraries/logic/LiquidationLogic.sol#L2)

	```solidity
	pragma solidity ^0.8.17;
	```

- Found in src/libraries/logic/ReaderLogic.sol [Line: 2](src/libraries/logic/ReaderLogic.sol#L2)

	```solidity
	pragma solidity ^0.8.17;
	```

- Found in src/libraries/logic/ReallocationLogic.sol [Line: 2](src/libraries/logic/ReallocationLogic.sol#L2)

	```solidity
	pragma solidity ^0.8.17;
	```

- Found in src/libraries/logic/SupplyLogic.sol [Line: 2](src/libraries/logic/SupplyLogic.sol#L2)

	```solidity
	pragma solidity ^0.8.17;
	```

- Found in src/libraries/logic/TradeLogic.sol [Line: 2](src/libraries/logic/TradeLogic.sol#L2)

	```solidity
	pragma solidity ^0.8.17;
	```

- Found in src/libraries/math/Bps.sol [Line: 2](src/libraries/math/Bps.sol#L2)

	```solidity
	pragma solidity ^0.8.17;
	```

- Found in src/libraries/math/LPMath.sol [Line: 2](src/libraries/math/LPMath.sol#L2)

	```solidity
	pragma solidity ^0.8.17;
	```

- Found in src/libraries/math/Math.sol [Line: 2](src/libraries/math/Math.sol#L2)

	```solidity
	pragma solidity ^0.8.17;
	```

- Found in src/libraries/orders/DecayLib.sol [Line: 2](src/libraries/orders/DecayLib.sol#L2)

	```solidity
	pragma solidity ^0.8.17;
	```

- Found in src/libraries/orders/OrderInfoLib.sol [Line: 2](src/libraries/orders/OrderInfoLib.sol#L2)

	```solidity
	pragma solidity ^0.8.17;
	```

- Found in src/libraries/orders/Permit2Lib.sol [Line: 2](src/libraries/orders/Permit2Lib.sol#L2)

	```solidity
	pragma solidity ^0.8.17;
	```

- Found in src/libraries/orders/ResolvedOrder.sol [Line: 2](src/libraries/orders/ResolvedOrder.sol#L2)

	```solidity
	pragma solidity ^0.8.17;
	```

- Found in src/markets/L2Decoder.sol [Line: 2](src/markets/L2Decoder.sol#L2)

	```solidity
	pragma solidity ^0.8.17;
	```

- Found in src/markets/gamma/ArrayLib.sol [Line: 2](src/markets/gamma/ArrayLib.sol#L2)

	```solidity
	pragma solidity ^0.8.17;
	```

- Found in src/markets/gamma/GammaOrder.sol [Line: 2](src/markets/gamma/GammaOrder.sol#L2)

	```solidity
	pragma solidity ^0.8.17;
	```

- Found in src/markets/gamma/GammaTradeMarket.sol [Line: 2](src/markets/gamma/GammaTradeMarket.sol#L2)

	```solidity
	pragma solidity ^0.8.17;
	```

- Found in src/markets/gamma/GammaTradeMarketL2.sol [Line: 2](src/markets/gamma/GammaTradeMarketL2.sol#L2)

	```solidity
	pragma solidity ^0.8.17;
	```

- Found in src/markets/gamma/GammaTradeMarketLib.sol [Line: 2](src/markets/gamma/GammaTradeMarketLib.sol#L2)

	```solidity
	pragma solidity ^0.8.17;
	```

- Found in src/markets/gamma/GammaTradeMarketWrapper.sol [Line: 2](src/markets/gamma/GammaTradeMarketWrapper.sol#L2)

	```solidity
	pragma solidity ^0.8.17;
	```

- Found in src/markets/gamma/L2GammaDecoder.sol [Line: 2](src/markets/gamma/L2GammaDecoder.sol#L2)

	```solidity
	pragma solidity ^0.8.17;
	```

- Found in src/markets/perp/PerpMarket.sol [Line: 2](src/markets/perp/PerpMarket.sol#L2)

	```solidity
	pragma solidity ^0.8.17;
	```

- Found in src/markets/perp/PerpMarketLib.sol [Line: 2](src/markets/perp/PerpMarketLib.sol#L2)

	```solidity
	pragma solidity ^0.8.17;
	```

- Found in src/markets/perp/PerpMarketV1.sol [Line: 2](src/markets/perp/PerpMarketV1.sol#L2)

	```solidity
	pragma solidity ^0.8.17;
	```

- Found in src/markets/perp/PerpOrder.sol [Line: 2](src/markets/perp/PerpOrder.sol#L2)

	```solidity
	pragma solidity ^0.8.17;
	```

- Found in src/markets/perp/PerpOrderV3.sol [Line: 2](src/markets/perp/PerpOrderV3.sol#L2)

	```solidity
	pragma solidity ^0.8.17;
	```

- Found in src/markets/spot/SpotMarket.sol [Line: 2](src/markets/spot/SpotMarket.sol#L2)

	```solidity
	pragma solidity ^0.8.17;
	```

- Found in src/markets/spot/SpotMarketL2.sol [Line: 2](src/markets/spot/SpotMarketL2.sol#L2)

	```solidity
	pragma solidity ^0.8.17;
	```

- Found in src/markets/spot/SpotOrder.sol [Line: 2](src/markets/spot/SpotOrder.sol#L2)

	```solidity
	pragma solidity ^0.8.17;
	```

- Found in src/settlements/UniswapSettlement.sol [Line: 2](src/settlements/UniswapSettlement.sol#L2)

	```solidity
	pragma solidity ^0.8.17;
	```

- Found in src/tokenization/SupplyToken.sol [Line: 2](src/tokenization/SupplyToken.sol#L2)

	```solidity
	pragma solidity ^0.8.17;
	```

- Found in src/types/GlobalData.sol [Line: 2](src/types/GlobalData.sol#L2)

	```solidity
	pragma solidity ^0.8.17;
	```

- Found in src/types/LockData.sol [Line: 2](src/types/LockData.sol#L2)

	```solidity
	pragma solidity ^0.8.17;
	```

- Found in src/vendors/AggregatorV3Interface.sol [Line: 2](src/vendors/AggregatorV3Interface.sol#L2)

	```solidity
	pragma solidity ^0.8.0;
	```

- Found in src/vendors/IPyth.sol [Line: 2](src/vendors/IPyth.sol#L2)

	```solidity
	pragma solidity ^0.8.0;
	```

- Found in src/vendors/IUniswapV3PoolOracle.sol [Line: 2](src/vendors/IUniswapV3PoolOracle.sol#L2)

	```solidity
	pragma solidity ^0.8.17;
	```

</details>



## L-11: Modifiers invoked only once can be shoe-horned into the function



<details><summary>2 Found Instances</summary>


- Found in src/PredyPool.sol [Line: 52](src/PredyPool.sol#L52)

	```solidity
	    modifier onlyByLocker() {
	```

- Found in src/PredyPool.sol [Line: 63](src/PredyPool.sol#L63)

	```solidity
	    modifier onlyVaultOwner(uint256 vaultId) {
	```

</details>



## L-12: Large literal values multiples of 10000 can be replaced with scientific notation

Use `e` notation, for example: `1e18`, instead of its full numeric value.

<details><summary>1 Found Instances</summary>


- Found in src/libraries/Constants.sol [Line: 16](src/libraries/Constants.sol#L16)

	```solidity
	    uint256 internal constant MAX_SQRT_PRICE = 79228162514264337593543950336000000000;
	```

</details>



## L-13: Internal functions called only once can be inlined

Instead of separating the logic into a separate function, consider inlining the logic into the calling function. This can reduce the number of function calls and improve readability.

<details><summary>65 Found Instances</summary>


- Found in lib/forge-std/src/StdMath.sol [Line: 20](lib/forge-std/src/StdMath.sol#L20)

	```solidity
	    function delta(int256 a, int256 b) internal pure returns (uint256) {
	```

- Found in lib/openzeppelin-contracts/contracts/utils/math/Math.sol [Line: 26](lib/openzeppelin-contracts/contracts/utils/math/Math.sol#L26)

	```solidity
	    function min(uint256 a, uint256 b) internal pure returns (uint256) {
	```

- Found in lib/openzeppelin-contracts/contracts/utils/math/Math.sol [Line: 55](lib/openzeppelin-contracts/contracts/utils/math/Math.sol#L55)

	```solidity
	    function mulDiv(uint256 x, uint256 y, uint256 denominator) internal pure returns (uint256 result) {
	```

- Found in lib/openzeppelin-contracts/contracts/utils/math/Math.sol [Line: 152](lib/openzeppelin-contracts/contracts/utils/math/Math.sol#L152)

	```solidity
	    function sqrt(uint256 a) internal pure returns (uint256) {
	```

- Found in lib/openzeppelin-contracts/contracts/utils/math/Math.sol [Line: 252](lib/openzeppelin-contracts/contracts/utils/math/Math.sol#L252)

	```solidity
	    function log10(uint256 value) internal pure returns (uint256) {
	```

- Found in lib/openzeppelin-contracts/contracts/utils/math/Math.sol [Line: 303](lib/openzeppelin-contracts/contracts/utils/math/Math.sol#L303)

	```solidity
	    function log256(uint256 value) internal pure returns (uint256) {
	```

- Found in lib/v3-core/contracts/libraries/FullMath.sol [Line: 14](lib/v3-core/contracts/libraries/FullMath.sol#L14)

	```solidity
	    function mulDiv(
	```

- Found in lib/v3-core/contracts/libraries/TickMath.sol [Line: 26](lib/v3-core/contracts/libraries/TickMath.sol#L26)

	```solidity
	    function getSqrtRatioAtTick(int24 tick) internal pure returns (uint160 sqrtPriceX96) {
	```

- Found in src/base/BaseMarketUpgradable.sol [Line: 61](src/base/BaseMarketUpgradable.sol#L61)

	```solidity
	    function decodeParamsV3(bytes memory settlementData, int256 baseAmountDelta)
	```

- Found in src/base/SettlementCallbackLib.sol [Line: 60](src/base/SettlementCallbackLib.sol#L60)

	```solidity
	    function execSettlementInternal(
	```

- Found in src/base/SettlementCallbackLib.sol [Line: 90](src/base/SettlementCallbackLib.sol#L90)

	```solidity
	    function sell(
	```

- Found in src/base/SettlementCallbackLib.sol [Line: 137](src/base/SettlementCallbackLib.sol#L137)

	```solidity
	    function buy(
	```

- Found in src/libraries/ApplyInterestLib.sol [Line: 75](src/libraries/ApplyInterestLib.sol#L75)

	```solidity
	    function emitInterestGrowthEvent(
	```

- Found in src/libraries/Perp.sol [Line: 262](src/libraries/Perp.sol#L262)

	```solidity
	    function rebalanceForInRange(
	```

- Found in src/libraries/Perp.sol [Line: 305](src/libraries/Perp.sol#L305)

	```solidity
	    function swapForOutOfRange(
	```

- Found in src/libraries/Perp.sol [Line: 332](src/libraries/Perp.sol#L332)

	```solidity
	    function getAvailableLiquidityAmount(
	```

- Found in src/libraries/Perp.sol [Line: 526](src/libraries/Perp.sol#L526)

	```solidity
	    function updateSqrtPosition(
	```

- Found in src/libraries/Perp.sol [Line: 604](src/libraries/Perp.sol#L604)

	```solidity
	    function getUtilizationRatio(SqrtPerpAssetStatus memory _assetStatus) internal pure returns (uint256) {
	```

- Found in src/libraries/Perp.sol [Line: 618](src/libraries/Perp.sol#L618)

	```solidity
	    function updateRebalanceEntry(
	```

- Found in src/libraries/Perp.sol [Line: 707](src/libraries/Perp.sol#L707)

	```solidity
	    function increase(SqrtPerpAssetStatus memory _assetStatus, uint256 _liquidityAmount)
	```

- Found in src/libraries/Perp.sol [Line: 719](src/libraries/Perp.sol#L719)

	```solidity
	    function decrease(SqrtPerpAssetStatus memory _assetStatus, uint256 _liquidityAmount)
	```

- Found in src/libraries/PerpFee.sol [Line: 95](src/libraries/PerpFee.sol#L95)

	```solidity
	    function settlePremium(DataType.PairStatus memory baseAssetStatus, Perp.SqrtPositionStatus storage sqrtPerp)
	```

- Found in src/libraries/PerpFee.sol [Line: 136](src/libraries/PerpFee.sol#L136)

	```solidity
	    function settleRebalanceInterest(
	```

- Found in src/libraries/PositionCalculator.sol [Line: 63](src/libraries/PositionCalculator.sol#L63)

	```solidity
	    function getIsSafe(
	```

- Found in src/libraries/PositionCalculator.sol [Line: 102](src/libraries/PositionCalculator.sol#L102)

	```solidity
	    function calculateRequiredCollateralWithDebt(uint128 debtRiskRatio) internal pure returns (uint256) {
	```

- Found in src/libraries/PositionCalculator.sol [Line: 117](src/libraries/PositionCalculator.sol#L117)

	```solidity
	    function calculateMinValue(
	```

- Found in src/libraries/PositionCalculator.sol [Line: 141](src/libraries/PositionCalculator.sol#L141)

	```solidity
	    function getSqrtIndexPrice(DataType.PairStatus memory pairStatus) internal view returns (uint256 sqrtPriceX96) {
	```

- Found in src/libraries/PositionCalculator.sol [Line: 151](src/libraries/PositionCalculator.sol#L151)

	```solidity
	    function getPositionWithFeeAmount(Perp.UserStatus memory perpUserStatus, DataType.FeeAmount memory feeAmount)
	```

- Found in src/libraries/PositionCalculator.sol [Line: 163](src/libraries/PositionCalculator.sol#L163)

	```solidity
	    function getPosition(Perp.UserStatus memory _perpUserStatus)
	```

- Found in src/libraries/PositionCalculator.sol [Line: 186](src/libraries/PositionCalculator.sol#L186)

	```solidity
	    function calculateMinValue(uint256 _sqrtPrice, PositionParams memory _positionParams, uint256 _riskRatio)
	```

- Found in src/libraries/PositionCalculator.sol [Line: 238](src/libraries/PositionCalculator.sol#L238)

	```solidity
	    function calculateSquartDebtValue(uint256 _sqrtPrice, PositionParams memory positionParams)
	```

- Found in src/libraries/Reallocation.sol [Line: 126](src/libraries/Reallocation.sol#L126)

	```solidity
	    function calculateMinLowerTick(
	```

- Found in src/libraries/Reallocation.sol [Line: 147](src/libraries/Reallocation.sol#L147)

	```solidity
	    function calculateMaxUpperTick(
	```

- Found in src/libraries/Reallocation.sol [Line: 165](src/libraries/Reallocation.sol#L165)

	```solidity
	    function calculateAmount1ForLiquidity(uint160 sqrtRatioA, uint256 available, uint256 liquidityAmount)
	```

- Found in src/libraries/Reallocation.sol [Line: 179](src/libraries/Reallocation.sol#L179)

	```solidity
	    function calculateAmount0ForLiquidity(uint160 sqrtRatioB, uint256 available, uint256 liquidityAmount)
	```

- Found in src/libraries/ScaledAsset.sol [Line: 72](src/libraries/ScaledAsset.sol#L72)

	```solidity
	    function isSameSign(int256 a, int256 b) internal pure returns (bool) {
	```

- Found in src/libraries/ScaledAsset.sol [Line: 130](src/libraries/ScaledAsset.sol#L130)

	```solidity
	    function computeUserFee(ScaledAsset.AssetStatus memory _assetStatus, ScaledAsset.UserStatus memory _userStatus)
	```

- Found in src/libraries/ScaledAsset.sol [Line: 155](src/libraries/ScaledAsset.sol#L155)

	```solidity
	    function getAssetFee(AssetStatus memory tokenState, UserStatus memory accountState)
	```

- Found in src/libraries/ScaledAsset.sol [Line: 170](src/libraries/ScaledAsset.sol#L170)

	```solidity
	    function getDebtFee(AssetStatus memory tokenState, UserStatus memory accountState)
	```

- Found in src/libraries/Trade.sol [Line: 76](src/libraries/Trade.sol#L76)

	```solidity
	    function swap(
	```

- Found in src/libraries/Trade.sol [Line: 112](src/libraries/Trade.sol#L112)

	```solidity
	    function getSqrtPrice(address uniswapPoolAddress, bool isQuoteZero) internal view returns (uint256 sqrtPriceX96) {
	```

- Found in src/libraries/Trade.sol [Line: 116](src/libraries/Trade.sol#L116)

	```solidity
	    function calculateStableAmount(uint256 currentSqrtPrice, uint256 baseAmount) internal pure returns (uint256) {
	```

- Found in src/libraries/Trade.sol [Line: 135](src/libraries/Trade.sol#L135)

	```solidity
	    function settleUserBalanceAndFee(
	```

- Found in src/libraries/UniHelper.sol [Line: 35](src/libraries/UniHelper.sol#L35)

	```solidity
	    function callUniswapObserve(IUniswapV3Pool uniswapPool, uint256 ago) internal view returns (uint160, uint256) {
	```

- Found in src/libraries/logic/AddPairLogic.sol [Line: 209](src/libraries/logic/AddPairLogic.sol#L209)

	```solidity
	    function validatePoolOwner(address _poolOwner) internal pure {
	```

- Found in src/libraries/logic/LiquidationLogic.sol [Line: 129](src/libraries/logic/LiquidationLogic.sol#L129)

	```solidity
	    function checkVaultIsDanger(
	```

- Found in src/libraries/logic/LiquidationLogic.sol [Line: 159](src/libraries/logic/LiquidationLogic.sol#L159)

	```solidity
	    function calculateSlippageTolerance(int256 minMargin, int256 vaultValue, Perp.AssetRiskParams memory riskParams)
	```

- Found in src/libraries/logic/ReaderLogic.sol [Line: 43](src/libraries/logic/ReaderLogic.sol#L43)

	```solidity
	    function getPosition(DataType.Vault memory vault, DataType.FeeAmount memory feeAmount)
	```

- Found in src/libraries/logic/ReaderLogic.sol [Line: 56](src/libraries/logic/ReaderLogic.sol#L56)

	```solidity
	    function revertPairStatus(DataType.PairStatus memory pairStatus) internal pure {
	```

- Found in src/libraries/logic/ReaderLogic.sol [Line: 64](src/libraries/logic/ReaderLogic.sol#L64)

	```solidity
	    function revertVaultStatus(IPredyPool.VaultStatus memory vaultStatus) internal pure {
	```

- Found in src/libraries/logic/TradeLogic.sol [Line: 68](src/libraries/logic/TradeLogic.sol#L68)

	```solidity
	    function callTradeAfterCallback(
	```

- Found in src/libraries/math/LPMath.sol [Line: 30](src/libraries/math/LPMath.sol#L30)

	```solidity
	    function calculateAmount0ForLiquidity(
	```

- Found in src/libraries/math/LPMath.sol [Line: 68](src/libraries/math/LPMath.sol#L68)

	```solidity
	    function calculateAmount1ForLiquidity(
	```

- Found in src/libraries/math/LPMath.sol [Line: 119](src/libraries/math/LPMath.sol#L119)

	```solidity
	    function calculateAmount0Offset(uint160 sqrtRatio, uint256 liquidityAmount, bool isRoundUp)
	```

- Found in src/libraries/math/LPMath.sol [Line: 145](src/libraries/math/LPMath.sol#L145)

	```solidity
	    function calculateAmount1Offset(uint160 sqrtRatio, uint256 liquidityAmount, bool isRoundUp)
	```

- Found in src/libraries/orders/DecayLib.sol [Line: 16](src/libraries/orders/DecayLib.sol#L16)

	```solidity
	    function decay2(uint256 startPrice, uint256 endPrice, uint256 decayStartTime, uint256 decayEndTime, uint256 value)
	```

- Found in src/markets/gamma/ArrayLib.sol [Line: 15](src/markets/gamma/ArrayLib.sol#L15)

	```solidity
	    function removeItemByIndex(uint256[] storage items, uint256 index) internal {
	```

- Found in src/markets/gamma/ArrayLib.sol [Line: 20](src/markets/gamma/ArrayLib.sol#L20)

	```solidity
	    function getItemIndex(uint256[] memory items, uint256 item) internal pure returns (uint256) {
	```

- Found in src/markets/gamma/GammaOrder.sol [Line: 115](src/markets/gamma/GammaOrder.sol#L115)

	```solidity
	    function hash(GammaOrder memory order) internal pure returns (bytes32) {
	```

- Found in src/markets/gamma/L2GammaDecoder.sol [Line: 51](src/markets/gamma/L2GammaDecoder.sol#L51)

	```solidity
	    function decodeGammaModifyParam(bytes32 args)
	```

- Found in src/markets/perp/PerpMarketLib.sol [Line: 178](src/markets/perp/PerpMarketLib.sol#L178)

	```solidity
	    function ratio(uint256 price1, uint256 price2) internal pure returns (uint256) {
	```

- Found in src/markets/perp/PerpMarketLib.sol [Line: 188](src/markets/perp/PerpMarketLib.sol#L188)

	```solidity
	    function validateMarketOrder(uint256 tradePrice, int256 tradeAmount, bytes memory auctionData)
	```

- Found in src/markets/perp/PerpOrder.sol [Line: 54](src/markets/perp/PerpOrder.sol#L54)

	```solidity
	    function hash(PerpOrder memory order) internal pure returns (bytes32) {
	```

- Found in src/markets/perp/PerpOrderV3.sol [Line: 58](src/markets/perp/PerpOrderV3.sol#L58)

	```solidity
	    function hash(PerpOrderV3 memory order) internal pure returns (bytes32) {
	```

- Found in src/markets/spot/SpotOrder.sol [Line: 45](src/markets/spot/SpotOrder.sol#L45)

	```solidity
	    function hash(SpotOrder memory order) internal pure returns (bytes32) {
	```

</details>



## L-14: Unused Custom Error

it is recommended that the definition be removed when custom error is unused

<details><summary>3 Found Instances</summary>


- Found in src/interfaces/IFillerMarket.sol [Line: 5](src/interfaces/IFillerMarket.sol#L5)

	```solidity
	    error SignerIsNotVaultOwner();
	```

- Found in src/markets/perp/PerpMarketV1.sol [Line: 36](src/markets/perp/PerpMarketV1.sol#L36)

	```solidity
	    error TPSLConditionDoesNotMatch();
	```

- Found in src/markets/perp/PerpMarketV1.sol [Line: 38](src/markets/perp/PerpMarketV1.sol#L38)

	```solidity
	    error UpdateMarginMustNotBePositive();
	```

</details>



